<!DOCTYPE html>
<html lang="zh">







<head>
  






  
    
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Blog | Darren</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Blog" />
<meta name="author" content="Darren Tu" />
<meta property="og:locale" content="zh_TW" />
<meta name="description" content="The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll." />
<meta property="og:description" content="The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll." />
<link rel="canonical" href="http://localhost:4000/" />
<meta property="og:url" content="http://localhost:4000/" />
<meta property="og:site_name" content="Darren" />
<meta property="og:type" content="website" />
<link rel="next" href="http://localhost:4000/2/" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Blog" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","author":{"@type":"Person","name":"Darren Tu"},"dateModified":"2022-06-28T01:14:55+08:00","description":"The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll.","headline":"Blog","name":"Darren","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/logo.png"},"name":"Darren Tu"},"url":"http://localhost:4000/"}</script>
<!-- End Jekyll SEO tag -->


  

  



  <meta name="theme-color" content="rgb(8,46,57)">


<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<meta name="mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Darren">
<meta name="apple-mobile-web-app-status-bar-style" content="default">

<meta name="application-name" content="Darren">

<meta name="generator" content="Hydejack v9.1.6" />


<link rel="alternate" href="http://localhost:4000/" hreflang="zh-tw">

<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Darren" />


<link rel="shortcut icon"    href="/assets/icons/favicon.ico">
<link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">

<link rel="manifest" href="/assets/site.webmanifest">

<link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com">



<link rel="preload" href="/assets/img/swipe.svg" as="image" id="_hrefSwipeSVG">

<link rel="dns-prefetch" href="/assets/js/search-worker-9.1.6.js" as="worker" id="_hrefSearch">





<script>!function(r,c){"use strict";function a(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}r.loadJS=function(e,t){var n=c.createElement("script"),e=(n.src=e,t&&a(n,"load",t,{once:!0}),c.scripts[0]);return e.parentNode.insertBefore(n,e),n},r._loaded=!1,r.loadJSDeferred=function(e,t){var n=c.createElement("script");function o(){r._loaded=!0,t&&a(n,"load",t,{once:!0});var e=c.scripts[0];e.parentNode.insertBefore(n,e)}return n.src=e,r._loaded?o():a(r,"load",o,{once:!0}),n},r.setRel=r.setRelStylesheet=function(e){a(c.getElementById(e),"load",function(){this.rel="stylesheet"},{once:!0})}}(window,document);
!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);
!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);
!function(w) {
  w._baseURL = '/';
  w._publicPath = '/assets/js/';
  w._noPushState = false;
  w._noDrawer = false;
  w._noNavbar = false;
  w._noToc = false;
  w._noSearch = false;
  w._advertise = false;
  w._search = {
    DATA_URL: '/assets/sitedata.json?no-cache',
    STORAGE_KEY: 'mini-search/',
    INDEX_KEY: 'index--2024-09-14T22:29:52+08:00',
  };
  w._clapButton = false;
}(window);</script>


<script async src="/assets/bower_components/MathJax/es5/tex-mml-chtml.js" id="_MathJax"></script>


<!--[if gt IE 8]><!---->

  




<link rel="stylesheet" href="/assets/css/hydejack-9.1.6.css" id="_stylePreload">
<link rel="stylesheet" href="/assets/icomoon/style.css" id="_iconsPreload">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans:400,400i,700,700i&display=swap" id="_fontsPreload">



  <style id="_pageStyle">

html{--accent-color: rgb(79,177,186);--accent-color-faded: rgba(79,177,186,0.5);--accent-color-highlight: rgba(79,177,186,0.1);--accent-color-darkened: #409ba3;--theme-color: rgb(8,46,57);--dark-mode-body-bg: #282f31;--dark-mode-border-color: #343c3f}

</style>


<!--<![endif]-->


<!-- Add HTML tags here to be included in the head -->


</head>

<body class="no-break-layout">
  


<hy-push-state
  id="_pushState"
  replace-selector="#_main"
  link-selector="a[href]:not([href^='/assets/']):not(.external):not(.no-push-state)"
  script-selector="script"
  duration="500"
  hashchange
>
  
  <hy-drawer
  id="_drawer"
  class="cover"
  side="left"
  threshold="10"
  noscroll
  opened
>
  <header id="_sidebar" class="sidebar" role="banner">
    




<div class="sidebar-bg sidebar-overlay" style="background-color:rgb(8,46,57);background-image:url(/assets/img/sidebar-bg.gif)"></div>

    <div class="sidebar-sticky">
  <div class="sidebar-about">
    
      <a class="no-hover" href="/" tabindex="-1">
        <img src="/assets/img/logo.png" class="avatar" alt="Darren" width="120" height="120" loading="lazy" />
      </a>
    
    <a class="sidebar-title" href="/"><h2 class="h1">Darren</h2></a>
    
    
      <p class="">
        A blog, portfolio, and resume.

      </p>
    
  </div>

  <nav class="sidebar-nav heading" role="navigation">
    <span class="sr-only">Navigation:</span>
<ul>
  
    
      
      <li>
        <a
          id="_drawer--opened"
          href="/blog/"
          class="sidebar-nav-item "
          
        >
          Blog
        </a>
      </li>
    
      
      <li>
        <a
          
          href="/projects/"
          class="sidebar-nav-item "
          
        >
          Showcase
        </a>
      </li>
    
      
      <li>
        <a
          
          href="/about/"
          class="sidebar-nav-item "
          
        >
          About Me
        </a>
      </li>
    
      
      <li>
        <a
          
          href="/resume/"
          class="sidebar-nav-item "
          
        >
          Resume
        </a>
      </li>
    
  
</ul>

  </nav>

  
  <div class="sidebar-social">
    <span class="sr-only">Social:</span>
<ul>
  
    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://gitlab.com/darrentu88" title="GitHub" class="no-mark-external">
      <span class="icon-github"></span>
      <span class="sr-only">GitHub</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="mailto:darrentu8@gmail.com" title="Email" class="no-mark-external">
      <span class="icon-mail"></span>
      <span class="sr-only">Email</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://www.instagram.com/tu_d/" title="Instagram" class="no-mark-external">
      <span class="icon-instagram"></span>
      <span class="sr-only">Instagram</span>
    </a>
  </li>


    
  
</ul>

  </div>
</div>
  </header>
</hy-drawer>
<hr class="sr-only" hidden />

  <div id="_navbar" class="navbar fixed-top">
  <div class="content">
    <span class="sr-only">Jump to:</span>
    <div class="nav-btn-bar">
      <a id="_menu" class="nav-btn no-hover" href="#_drawer--opened">
        <span class="sr-only">Navigation</span>
        <span class="icon-menu"></span>
      </a>
      <div class="nav-span"></div>
    </div>
  </div>
</div>
<hr class="sr-only" hidden />

  <main
  id="_main"
  class="content layout-blog"
  role="main"
>
  <nav id="breadcrumbs" class="screen-only"><ul>
  
  
</ul></nav>
  


  

  





<article id="post-blog-blog-react19-2" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2024-04-27-blog-react19-2/" class="flip-title">
        React 19 進階技巧與最佳實踐
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2024-04-27T00:00:00+08:00">27 Apr 2024</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T22:27:09+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2024-04-27-blog-react19-2/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://miro.medium.com/max/1400/1*HSisLuifMO6KbLfPOKtLow.jpeg"
  
  alt="React 19 進階技巧與最佳實踐"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#進階技巧" id="markdown-toc-進階技巧">進階技巧</a>    <ol>
      <li><a href="#1-使用-server-components-優化性能" id="markdown-toc-1-使用-server-components-優化性能">1. 使用 Server Components 優化性能</a></li>
      <li><a href="#2-利用-concurrent-rendering-提升用戶體驗" id="markdown-toc-2-利用-concurrent-rendering-提升用戶體驗">2. 利用 Concurrent Rendering 提升用戶體驗</a></li>
      <li><a href="#3-自動批處理狀態更新" id="markdown-toc-3-自動批處理狀態更新">3. 自動批處理狀態更新</a></li>
      <li><a href="#4-改進的-ssr-和-hydration" id="markdown-toc-4-改進的-ssr-和-hydration">4. 改進的 SSR 和 Hydration</a></li>
      <li><a href="#5-使用新-hooks-提升開發效率" id="markdown-toc-5-使用新-hooks-提升開發效率">5. 使用新 Hooks 提升開發效率</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>在本文中，我們將探討 React 19 的一些進階技巧和最佳實踐，幫助開發者更好地利用這些新特性來構建高效、可維護的應用。</p>

<h2 id="進階技巧">進階技巧</h2>

<h3 id="1-使用-server-components-優化性能">1. 使用 Server Components 優化性能</h3>

<p>Server Components 可以顯著減少客戶端的負擔，提升應用的性能。以下是如何在實際應用中使用 Server Components 的示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ServerComponent.server.js</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">ServerComponent</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">這是服務器端渲染的組件</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">;
</span><span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// App.js</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ServerComponent</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./ServerComponent.server</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">React</span> <span class="mi">19</span> <span class="nx">進階技巧</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">ServerComponent</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-利用-concurrent-rendering-提升用戶體驗">2. 利用 Concurrent Rendering 提升用戶體驗</h3>

<p>Concurrent Rendering 允許 React 更高效地處理多任務，提升應用的響應速度。以下是如何使用 <code class="language-plaintext highlighter-rouge">useTransition</code> 來實現平滑的用戶體驗：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useTransition</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isPending</span><span class="p">,</span> <span class="nx">startTransition</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useTransition</span><span class="p">();</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">startTransition</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setCount</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span> <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isPending</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">isPending</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">更新中...</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">增加</span><span class="dl">'</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-自動批處理狀態更新">3. 自動批處理狀態更新</h3>

<p>React 19 的自動批處理功能可以減少重新渲染次數，提高性能。以下是如何利用這一功能的示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">text</span><span class="p">,</span> <span class="nx">setText</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCount</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setText</span><span class="p">(</span><span class="dl">'</span><span class="s1">計數已更新</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">增加</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-改進的-ssr-和-hydration">4. 改進的 SSR 和 Hydration</h3>

<p>React 19 改進了 SSR 和 Hydration 過程，使得應用加載更快。以下是如何使用 <code class="language-plaintext highlighter-rouge">ReactDOMServer</code> 進行服務器端渲染的示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ReactDOMServer</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-dom/server</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./App</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">ReactDOMServer</span><span class="p">.</span><span class="nx">renderToString</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="5-使用新-hooks-提升開發效率">5. 使用新 Hooks 提升開發效率</h3>

<p>React 19 引入了新的 Hooks，如 <code class="language-plaintext highlighter-rouge">useDeferredValue</code> 和 <code class="language-plaintext highlighter-rouge">useId</code>，提供更多的功能和靈活性。以下是如何使用 <code class="language-plaintext highlighter-rouge">useDeferredValue</code> 的示例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useDeferredValue</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">value</span><span class="p">,</span> <span class="nx">setValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">deferredValue</span> <span class="o">=</span> <span class="nx">useDeferredValue</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="p">}</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">setValue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">延遲值</span><span class="p">:</span> <span class="p">{</span><span class="nx">deferredValue</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="總結">總結</h2>

<p>通過掌握這些進階技巧和最佳實踐，開發者可以充分利用 React 19 的新特性，構建高效、靈活的應用：</p>

<ol>
  <li>使用 Server Components 優化性能。</li>
  <li>利用 Concurrent Rendering 提升用戶體驗。</li>
  <li>自動批處理狀態更新以提高性能。</li>
  <li>改進的 SSR 和 Hydration 使應用加載更快。</li>
  <li>使用新 Hooks 提升開發效率。</li>
</ol>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://reactjs.org/">React 官方文檔</a></li>
  <li><a href="https://reactjs.org/blog/2024/04/16/react-v19.html">React 19 發布公告</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2024-04-27-blog-react19-2/">React 19 進階技巧與最佳實踐</a>

      </p>
    </footer>
  
</article>


  





<article id="post-blog-blog-react19-1" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2024-04-16-blog-react19-1/" class="flip-title">
        React 19 的新特性與應用技巧
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2024-04-16T00:00:00+08:00">16 Apr 2024</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T22:27:14+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2024-04-16-blog-react19-1/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://miro.medium.com/max/1400/1*HSisLuifMO6KbLfPOKtLow.jpeg"
  
  alt="React 19 的新特性與應用技巧"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#react-19-的新特性" id="markdown-toc-react-19-的新特性">React 19 的新特性</a>    <ol>
      <li><a href="#1-server-components" id="markdown-toc-1-server-components">1. Server Components</a></li>
      <li><a href="#2-concurrent-rendering" id="markdown-toc-2-concurrent-rendering">2. Concurrent Rendering</a></li>
      <li><a href="#3-automatic-batching" id="markdown-toc-3-automatic-batching">3. Automatic Batching</a></li>
      <li><a href="#4-improved-ssr-and-hydration" id="markdown-toc-4-improved-ssr-and-hydration">4. Improved SSR and Hydration</a></li>
      <li><a href="#5-new-hooks" id="markdown-toc-5-new-hooks">5. New Hooks</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>React 19 帶來了許多令人興奮的新特性和改進。本文將介紹這些新特性，並展示如何在實際應用中利用它們來提升開發效率和應用性能。</p>

<h2 id="react-19-的新特性">React 19 的新特性</h2>

<h3 id="1-server-components">1. Server Components</h3>

<p>React 19 引入了 Server Components，允許在服務器端渲染部分組件，減少客戶端的負擔。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ServerComponent.server.js</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">ServerComponent</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">這是服務器端渲染的組件</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">;
</span><span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// App.js</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ServerComponent</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./ServerComponent.server</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">React</span> <span class="mi">19</span> <span class="nx">新特性</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">ServerComponent</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-concurrent-rendering">2. Concurrent Rendering</h3>

<p>Concurrent Rendering 使得 React 可以更高效地處理多任務，提升應用的響應速度。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useTransition</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isPending</span><span class="p">,</span> <span class="nx">startTransition</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useTransition</span><span class="p">();</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">startTransition</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setCount</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span> <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isPending</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">isPending</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">更新中...</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">增加</span><span class="dl">'</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-automatic-batching">3. Automatic Batching</h3>

<p>React 19 自動批處理多個狀態更新，減少重新渲染次數，提高性能。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">text</span><span class="p">,</span> <span class="nx">setText</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCount</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setText</span><span class="p">(</span><span class="dl">'</span><span class="s1">計數已更新</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">增加</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-improved-ssr-and-hydration">4. Improved SSR and Hydration</h3>

<p>React 19 改進了服務器端渲染（SSR）和水合（Hydration）過程，使得應用加載更快。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ReactDOMServer</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-dom/server</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./App</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">ReactDOMServer</span><span class="p">.</span><span class="nx">renderToString</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="5-new-hooks">5. New Hooks</h3>

<p>React 19 引入了新的 Hooks，如 <code class="language-plaintext highlighter-rouge">useDeferredValue</code> 和 <code class="language-plaintext highlighter-rouge">useId</code>，提供更多的功能和靈活性。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useDeferredValue</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">value</span><span class="p">,</span> <span class="nx">setValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">deferredValue</span> <span class="o">=</span> <span class="nx">useDeferredValue</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="p">}</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">setValue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">延遲值</span><span class="p">:</span> <span class="p">{</span><span class="nx">deferredValue</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="總結">總結</h2>

<p>React 19 帶來了許多強大的新特性和改進：</p>

<ol>
  <li>Server Components 允許在服務器端渲染部分組件。</li>
  <li>Concurrent Rendering 提升了應用的響應速度。</li>
  <li>Automatic Batching 減少了重新渲染次數。</li>
  <li>改進的 SSR 和 Hydration 使應用加載更快。</li>
  <li>新的 Hooks 提供了更多的功能和靈活性。</li>
</ol>

<p>通過掌握這些新特性，開發者可以充分利用 React 19 的優勢，構建高效、靈活的應用。</p>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://reactjs.org/">React 官方文檔</a></li>
  <li><a href="https://reactjs.org/blog/2024/04/16/react-v19.html">React 19 發布公告</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2024-04-16-blog-react19-1/">React 19 的新特性與應用技巧</a>

      </p>
    </footer>
  
</article>


  





<article id="post-blog-blog-Monorepo&Docker" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2023-04-25-blog-Monorepo&Docker/" class="flip-title">
        Monorepo 與 Docker 的應用技巧
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2023-04-25T00:00:00+08:00">25 Apr 2023</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T22:26:06+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2023-04-25-blog-Monorepo&Docker/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://miro.medium.com/v2/resize:fit:2000/1*vQK4s0lOiK1ZkcXxFNIMDQ.png"
  
  alt="Monorepo 與 Docker 的應用技巧"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#monorepo-簡介" id="markdown-toc-monorepo-簡介">Monorepo 簡介</a></li>
  <li><a href="#docker-簡介" id="markdown-toc-docker-簡介">Docker 簡介</a></li>
  <li><a href="#設置-monorepo-和-docker" id="markdown-toc-設置-monorepo-和-docker">設置 Monorepo 和 Docker</a>    <ol>
      <li><a href="#1-初始化-nx-工作區" id="markdown-toc-1-初始化-nx-工作區">1. 初始化 Nx 工作區</a></li>
      <li><a href="#2-添加-vue-應用" id="markdown-toc-2-添加-vue-應用">2. 添加 Vue 應用</a></li>
      <li><a href="#3-添加-docker-支持" id="markdown-toc-3-添加-docker-支持">3. 添加 Docker 支持</a></li>
      <li><a href="#4-創建-docker-compose-文件" id="markdown-toc-4-創建-docker-compose-文件">4. 創建 Docker Compose 文件</a></li>
    </ol>
  </li>
  <li><a href="#在-monorepo-中使用-docker" id="markdown-toc-在-monorepo-中使用-docker">在 Monorepo 中使用 Docker</a>    <ol>
      <li><a href="#1-本地開發" id="markdown-toc-1-本地開發">1. 本地開發</a></li>
      <li><a href="#2-部署到生產環境" id="markdown-toc-2-部署到生產環境">2. 部署到生產環境</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>在現代前端開發中，Monorepo 和 Docker 是兩個強大的工具。Monorepo 可以幫助我們更好地管理大型代碼庫，而 Docker 則提供了輕量級的容器化解決方案。本文將介紹如何將這兩者結合起來，提升開發效率和應用性能。</p>

<h2 id="monorepo-簡介">Monorepo 簡介</h2>

<p>Monorepo 是指將多個項目存放在同一個代碼庫中，這樣可以更好地管理依賴關係、共享代碼和統一配置。常見的 Monorepo 工具有 Lerna 和 Nx。</p>

<h2 id="docker-簡介">Docker 簡介</h2>

<p>Docker 是一個開源的平台，通過容器化技術來實現應用的快速部署和運行。它可以將應用及其依賴打包成一個輕量級、可移植的容器，從而實現跨環境的一致性。</p>

<h2 id="設置-monorepo-和-docker">設置 Monorepo 和 Docker</h2>

<h3 id="1-初始化-nx-工作區">1. 初始化 Nx 工作區</h3>

<p>首先，我們需要設置一個 Monorepo。這裡我們使用 Nx 作為示例。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx create-nx-workspace@latest my-workspace
<span class="nb">cd </span>my-workspace
</code></pre></div></div>

<h3 id="2-添加-vue-應用">2. 添加 Vue 應用</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nx generate @nx-plus/vue:application my-app
</code></pre></div></div>

<h3 id="3-添加-docker-支持">3. 添加 Docker 支持</h3>

<p>在應用中添加 Docker 支持，首先需要創建一個 Dockerfile。</p>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;!-- apps/my-app/Dockerfile --&gt;
# 使用官方的 Node.js 圖像作為基礎圖像
<span class="k">FROM</span><span class="s"> node:16-alpine</span>

<span class="c"># 設置工作目錄</span>
<span class="k">WORKDIR</span><span class="s"> /app</span>

<span class="c"># 複製 package.json 和 package-lock.json</span>
<span class="k">COPY</span><span class="s"> package*.json ./</span>

<span class="c"># 安裝依賴</span>
<span class="k">RUN </span>npm <span class="nb">install</span>

<span class="c"># 複製應用代碼</span>
<span class="k">COPY</span><span class="s"> . .</span>

<span class="c"># 構建應用</span>
<span class="k">RUN </span>npm run build

<span class="c"># 暴露應用運行的端口</span>
<span class="k">EXPOSE</span><span class="s"> 3000</span>

<span class="c"># 啟動應用</span>
<span class="k">CMD</span><span class="s"> ["npm", "start"]</span>
</code></pre></div></div>

<h3 id="4-創建-docker-compose-文件">4. 創建 Docker Compose 文件</h3>

<p>為了更方便地管理多個容器，我們可以使用 Docker Compose。</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">&lt;!-- docker-compose.yml --&gt;</span>
<span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.8'</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">my-app</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span>
      <span class="na">context</span><span class="pi">:</span> <span class="s">./apps/my-app</span>
      <span class="na">dockerfile</span><span class="pi">:</span> <span class="s">Dockerfile</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3000:3000"</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./apps/my-app:/app</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">NODE_ENV=development</span>
</code></pre></div></div>

<h2 id="在-monorepo-中使用-docker">在 Monorepo 中使用 Docker</h2>

<h3 id="1-本地開發">1. 本地開發</h3>

<p>在本地開發中，我們可以使用 Docker Compose 來啟動應用。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker-compose up <span class="nt">--build</span>
</code></pre></div></div>

<h3 id="2-部署到生產環境">2. 部署到生產環境</h3>

<p>在生產環境中，我們可以將應用打包成 Docker 映像，並推送到 Docker Hub 或其他容器託管服務。</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 登錄到 Docker Hub</span>
docker login

<span class="c"># 構建 Docker 映像</span>
docker build <span class="nt">-t</span> my-app:latest ./apps/my-app

<span class="c"># 推送 Docker 映像</span>
docker push my-app:latest
</code></pre></div></div>

<h2 id="總結">總結</h2>

<p>通過將 Monorepo 和 Docker 結合，我們可以顯著提升開發效率和應用性能：</p>

<ol>
  <li>Monorepo 提供了更好的代碼管理和依賴管理。</li>
  <li>Docker 提供了輕量級的容器化解決方案，實現跨環境的一致性。</li>
  <li>Docker Compose 使得多容器應用的管理更加方便。</li>
</ol>

<p>這些應用技巧讓我們能夠更好地管理大型代碼庫，實現高效的開發和部署流程。</p>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://nx.dev/">Nx 官方文檔</a></li>
  <li><a href="https://docs.docker.com/">Docker 官方文檔</a></li>
  <li><a href="https://hub.docker.com/">Docker Hub</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2023-04-25-blog-Monorepo&Docker/">Monorepo 與 Docker 的應用技巧</a>

      </p>
    </footer>
  
</article>


  





<article id="post-blog-blog-Monorepo&react18-1" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2023-03-16-blog-Monorepo&react18-1/" class="flip-title">
        React 18 與 Monorepo 的實際應用
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2023-03-16T00:00:00+08:00">16 Mar 2023</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T22:27:45+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2023-03-16-blog-Monorepo&react18-1/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://miro.medium.com/max/1400/1*HSisLuifMO6KbLfPOKtLow.jpeg"
  
  alt="React 18 與 Monorepo 的實際應用"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#monorepo-簡介" id="markdown-toc-monorepo-簡介">Monorepo 簡介</a></li>
  <li><a href="#設置-monorepo" id="markdown-toc-設置-monorepo">設置 Monorepo</a>    <ol>
      <li><a href="#1-初始化-nx-工作區" id="markdown-toc-1-初始化-nx-工作區">1. 初始化 Nx 工作區</a></li>
      <li><a href="#2-添加-react-應用" id="markdown-toc-2-添加-react-應用">2. 添加 React 應用</a></li>
      <li><a href="#3-添加-react-庫" id="markdown-toc-3-添加-react-庫">3. 添加 React 庫</a></li>
    </ol>
  </li>
  <li><a href="#在-monorepo-中使用-react-18" id="markdown-toc-在-monorepo-中使用-react-18">在 Monorepo 中使用 React 18</a>    <ol>
      <li><a href="#1-concurrent-mode" id="markdown-toc-1-concurrent-mode">1. Concurrent Mode</a></li>
      <li><a href="#2-automatic-batching" id="markdown-toc-2-automatic-batching">2. Automatic Batching</a></li>
      <li><a href="#3-suspense-for-data-fetching" id="markdown-toc-3-suspense-for-data-fetching">3. Suspense for Data Fetching</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>在現代前端開發中，Monorepo 已經成為管理大型代碼庫的一種流行方式。React 18 帶來了許多新特性，這些特性在 Monorepo 中的應用可以進一步提升開發效率和應用性能。本文將介紹如何在 Monorepo 中實際應用 React 18。</p>

<h2 id="monorepo-簡介">Monorepo 簡介</h2>

<p>Monorepo 是指將多個項目存放在同一個代碼庫中，這樣可以更好地管理依賴關係、共享代碼和統一配置。常見的 Monorepo 工具有 Lerna 和 Nx。</p>

<h2 id="設置-monorepo">設置 Monorepo</h2>

<p>首先，我們需要設置一個 Monorepo。這裡我們使用 Nx 作為示例。</p>

<h3 id="1-初始化-nx-工作區">1. 初始化 Nx 工作區</h3>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">bash</span>
<span class="nx">npx</span> <span class="nx">create</span><span class="o">-</span><span class="nx">nx</span><span class="o">-</span><span class="nx">workspace</span><span class="p">@</span><span class="nd">latest</span> <span class="nx">my</span><span class="o">-</span><span class="nx">workspace</span>
<span class="nx">cd</span> <span class="nx">my</span><span class="o">-</span><span class="nx">workspace</span>
</code></pre></div></div>

<h3 id="2-添加-react-應用">2. 添加 React 應用</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">bash</span>
<span class="nx">nx</span> <span class="nx">generate</span> <span class="p">@</span><span class="nd">nrwl</span><span class="sr">/react:application my-ap</span><span class="err">p
</span></code></pre></div></div>

<h3 id="3-添加-react-庫">3. 添加 React 庫</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">bash</span>
<span class="nx">nx</span> <span class="nx">generate</span> <span class="p">@</span><span class="nd">nrwl</span><span class="sr">/react:library my-li</span><span class="err">b
</span></code></pre></div></div>

<h2 id="在-monorepo-中使用-react-18">在 Monorepo 中使用 React 18</h2>

<h3 id="1-concurrent-mode">1. Concurrent Mode</h3>

<p>在 Monorepo 中，我們可以在應用和庫中使用 React 18 的 Concurrent Mode 來提升性能。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// apps/my-app/src/app/app.tsx</span>
<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useTransition</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isPending</span><span class="p">,</span> <span class="nx">startTransition</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useTransition</span><span class="p">();</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">startTransition</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setCount</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span> <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isPending</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">isPending</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">更新中...</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">增加</span><span class="dl">'</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-automatic-batching">2. Automatic Batching</h3>

<p>自動批處理功能可以在 Monorepo 中的多個應用和庫中使用，以減少重新渲染次數。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// libs/my-lib/src/lib/my-lib.tsx</span>
<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nx">MyLib</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">text</span><span class="p">,</span> <span class="nx">setText</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCount</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setText</span><span class="p">(</span><span class="dl">'</span><span class="s1">計數已更新</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">增加</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="3-suspense-for-data-fetching">3. Suspense for Data Fetching</h3>

<p>在 Monorepo 中，我們可以使用 Suspense 來處理數據加載，這使得異步操作更加簡單和直觀。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// apps/my-app/src/app/app.tsx</span>
<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Suspense</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">MyLib</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@my-workspace/my-lib</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">DataComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">lazy</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./data-component</span><span class="dl">'</span><span class="p">));</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">React</span> <span class="mi">18</span> <span class="nx">與</span> <span class="nx">Monorepo</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Suspense</span> <span class="nx">fallback</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">加載中</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;}</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">DataComponent</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="sr">/Suspense</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">MyLib</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="總結">總結</h2>

<p>通過在 Monorepo 中應用 React 18 的新特性，我們可以顯著提升開發效率和應用性能：</p>

<ol>
  <li>Concurrent Mode 提升了應用的響應速度。</li>
  <li>Automatic Batching 減少了重新渲染次數。</li>
  <li>Suspense for Data Fetching 使異步操作更加簡單。</li>
</ol>

<p>這些特性在 Monorepo 中的應用，讓我們能夠更好地管理大型代碼庫，實現高效的開發流程。</p>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://reactjs.org/">React 官方文檔</a></li>
  <li><a href="https://nx.dev/">Nx 官方文檔</a></li>
  <li><a href="https://reactjs.org/blog/2022/03/29/react-v18.html">React 18 發布公告</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2023-03-16-blog-Monorepo&react18-1/">React 18 與 Monorepo 的實際應用</a>

      </p>
    </footer>
  
</article>


  





<article id="post-blog-blog-Monorepo&vue3-1" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2023-03-08-blog-Monorepo&vue3-1/" class="flip-title">
        Vue 3 與 Monorepo 的實際應用
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2023-03-08T00:00:00+08:00">08 Mar 2023</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T22:23:19+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2023-03-08-blog-Monorepo&vue3-1/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSREpZ70jN673LVo1EE5S2uQJePHhk-dl9M_A&s"
  
  alt="Vue 3 與 Monorepo 的實際應用"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#monorepo-簡介" id="markdown-toc-monorepo-簡介">Monorepo 簡介</a></li>
  <li><a href="#設置-monorepo" id="markdown-toc-設置-monorepo">設置 Monorepo</a>    <ol>
      <li><a href="#1-初始化-nx-工作區" id="markdown-toc-1-初始化-nx-工作區">1. 初始化 Nx 工作區</a></li>
      <li><a href="#2-添加-vue-應用" id="markdown-toc-2-添加-vue-應用">2. 添加 Vue 應用</a></li>
      <li><a href="#3-添加-vue-庫" id="markdown-toc-3-添加-vue-庫">3. 添加 Vue 庫</a></li>
    </ol>
  </li>
  <li><a href="#在-monorepo-中使用-vue-3" id="markdown-toc-在-monorepo-中使用-vue-3">在 Monorepo 中使用 Vue 3</a>    <ol>
      <li><a href="#1-composition-api" id="markdown-toc-1-composition-api">1. Composition API</a></li>
      <li><a href="#2-teleport" id="markdown-toc-2-teleport">2. Teleport</a></li>
      <li><a href="#3-suspense" id="markdown-toc-3-suspense">3. Suspense</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>在現代前端開發中，Monorepo 已經成為管理大型代碼庫的一種流行方式。Vue 3 帶來了許多新特性，這些特性在 Monorepo 中的應用可以進一步提升開發效率和應用性能。本文將介紹如何在 Monorepo 中實際應用 Vue 3。</p>

<h2 id="monorepo-簡介">Monorepo 簡介</h2>

<p>Monorepo 是指將多個項目存放在同一個代碼庫中，這樣可以更好地管理依賴關係、共享代碼和統一配置。常見的 Monorepo 工具有 Lerna 和 Nx。</p>

<h2 id="設置-monorepo">設置 Monorepo</h2>

<p>首先，我們需要設置一個 Monorepo。這裡我們使用 Nx 作為示例。</p>

<h3 id="1-初始化-nx-工作區">1. 初始化 Nx 工作區</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx create-nx-workspace@latest my-workspace
<span class="nb">cd </span>my-workspace
</code></pre></div></div>

<h3 id="2-添加-vue-應用">2. 添加 Vue 應用</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nx generate @nx-plus/vue:application my-app
</code></pre></div></div>

<h3 id="3-添加-vue-庫">3. 添加 Vue 庫</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nx generate @nx-plus/vue:library my-lib
</code></pre></div></div>

<h2 id="在-monorepo-中使用-vue-3">在 Monorepo 中使用 Vue 3</h2>

<h3 id="1-composition-api">1. Composition API</h3>

<p>在 Monorepo 中，我們可以在應用和庫中使用 Vue 3 的 Composition API 來提升開發體驗。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!--</span> <span class="nx">apps</span><span class="o">/</span><span class="nx">my</span><span class="o">-</span><span class="nx">app</span><span class="o">/</span><span class="nx">src</span><span class="o">/</span><span class="nx">App</span><span class="p">.</span><span class="nx">vue</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="mi">8</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">button</span> <span class="p">@</span><span class="nd">click</span><span class="o">=</span><span class="dl">"</span><span class="s2">increment</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">增加</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">setup</span><span class="o">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">increment</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre></div></div>

<h3 id="2-teleport">2. Teleport</h3>

<p>Teleport 功能可以在 Monorepo 中的多個應用和庫中使用，以便更靈活地管理 DOM 結構。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!--</span> <span class="nx">libs</span><span class="o">/</span><span class="nx">my</span><span class="o">-</span><span class="nx">lib</span><span class="o">/</span><span class="nx">src</span><span class="o">/</span><span class="nx">lib</span><span class="o">/</span><span class="nx">MyLib</span><span class="p">.</span><span class="nx">vue</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="mi">8</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">button</span> <span class="p">@</span><span class="nd">click</span><span class="o">=</span><span class="dl">"</span><span class="s2">handleClick</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">增加</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">teleport</span> <span class="nx">to</span><span class="o">=</span><span class="dl">"</span><span class="s2">body</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">modal</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">這是一個模態框</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/teleport</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">setup</span><span class="o">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">handleClick</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span><span class="p">;</span>
  <span class="nx">text</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">計數已更新</span><span class="dl">'</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre></div></div>

<h3 id="3-suspense">3. Suspense</h3>

<p>在 Monorepo 中，我們可以使用 Suspense 來處理數據加載，這使得異步操作更加簡單和直觀。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!--</span> <span class="nx">apps</span><span class="o">/</span><span class="nx">my</span><span class="o">-</span><span class="nx">app</span><span class="o">/</span><span class="nx">src</span><span class="o">/</span><span class="nx">App</span><span class="p">.</span><span class="nx">vue</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Vue</span> <span class="mi">3</span> <span class="nx">與</span> <span class="nx">Monorepo</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">Suspense</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">template</span> <span class="err">#</span><span class="k">default</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">DataComponent</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">template</span> <span class="err">#</span><span class="nx">fallback</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">加載中</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Suspense</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">MyLib</span> <span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">setup</span><span class="o">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineAsyncComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">MyLib</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@my-workspace/my-lib</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">DataComponent</span> <span class="o">=</span> <span class="nx">defineAsyncComponent</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./DataComponent.vue</span><span class="dl">'</span><span class="p">));</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre></div></div>

<h2 id="總結">總結</h2>

<p>通過在 Monorepo 中應用 Vue 3 的新特性，我們可以顯著提升開發效率和應用性能：</p>

<ol>
  <li>Composition API 提升了開發體驗。</li>
  <li>Teleport 提供了更靈活的 DOM 管理。</li>
  <li>Suspense 使異步操作更加簡單。</li>
</ol>

<p>這些特性在 Monorepo 中的應用，讓我們能夠更好地管理大型代碼庫，實現高效的開發流程。</p>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://vuejs.org/">Vue 官方文檔</a></li>
  <li><a href="https://nx.dev/">Nx 官方文檔</a></li>
  <li><a href="https://v3.vuejs.org/guide/migration/introduction.html">Vue 3 發布公告</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2023-03-08-blog-Monorepo&vue3-1/">Vue 3 與 Monorepo 的實際應用</a>

      </p>
    </footer>
  
</article>


  





<article id="post-blog-blog-react18-1" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2023-03-03-blog-react18-1/" class="flip-title">
        React 18 的重點特性與應用
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2023-03-03T00:00:00+08:00">03 Mar 2023</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T22:28:11+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2023-03-03-blog-react18-1/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://miro.medium.com/max/1400/1*HSisLuifMO6KbLfPOKtLow.jpeg"
  
  alt="React 18 的重點特性與應用"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#react-18-的重點特性" id="markdown-toc-react-18-的重點特性">React 18 的重點特性</a>    <ol>
      <li><a href="#1-concurrent-mode" id="markdown-toc-1-concurrent-mode">1. Concurrent Mode</a></li>
      <li><a href="#2-automatic-batching" id="markdown-toc-2-automatic-batching">2. Automatic Batching</a></li>
      <li><a href="#3-suspense-for-data-fetching" id="markdown-toc-3-suspense-for-data-fetching">3. Suspense for Data Fetching</a></li>
      <li><a href="#4-新的-hooks" id="markdown-toc-4-新的-hooks">4. 新的 Hooks</a></li>
      <li><a href="#5-改進的-ssr-和-hydration" id="markdown-toc-5-改進的-ssr-和-hydration">5. 改進的 SSR 和 Hydration</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>React 18 帶來了許多重要的更新和改進，這些新特性旨在提升開發者的生產力和應用的性能。本文將介紹 React 18 的一些重點特性，並展示如何在實際應用中利用它們。</p>

<h2 id="react-18-的重點特性">React 18 的重點特性</h2>

<h3 id="1-concurrent-mode">1. Concurrent Mode</h3>

<p>Concurrent Mode 是 React 18 的一個重要特性，它允許 React 更高效地處理多任務，提升應用的響應速度。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useTransition</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isPending</span><span class="p">,</span> <span class="nx">startTransition</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useTransition</span><span class="p">();</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">startTransition</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setCount</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span> <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">isPending</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">isPending</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">更新中...</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">增加</span><span class="dl">'</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="2-automatic-batching">2. Automatic Batching</h3>

<p>React 18 引入了自動批處理功能，這意味著多個狀態更新將被自動批處理，以減少重新渲染次數，提高性能。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">text</span><span class="p">,</span> <span class="nx">setText</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCount</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setText</span><span class="p">(</span><span class="dl">'</span><span class="s1">計數已更新</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">計數</span><span class="p">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">增加</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-suspense-for-data-fetching">3. Suspense for Data Fetching</h3>

<p>React 18 擴展了 Suspense 的功能，現在可以用於數據加載，這使得處理異步操作更加簡單和直觀。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Suspense</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">DataComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">lazy</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./DataComponent</span><span class="dl">'</span><span class="p">));</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">React</span> <span class="mi">18</span> <span class="nx">的重點特性</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Suspense</span> <span class="nx">fallback</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">加載中</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;}</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">DataComponent</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="sr">/Suspense</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="4-新的-hooks">4. 新的 Hooks</h3>

<p>React 18 引入了一些新的 Hooks，如 <code class="language-plaintext highlighter-rouge">useTransition</code> 和 <code class="language-plaintext highlighter-rouge">useDeferredValue</code>，這些 Hooks 提供了更多的功能和靈活性。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useDeferredValue</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">value</span><span class="p">,</span> <span class="nx">setValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">deferredValue</span> <span class="o">=</span> <span class="nx">useDeferredValue</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="p">}</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">setValue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">延遲值</span><span class="p">:</span> <span class="p">{</span><span class="nx">deferredValue</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="5-改進的-ssr-和-hydration">5. 改進的 SSR 和 Hydration</h3>

<p>React 18 改進了服務器端渲染（SSR）和水合（Hydration）過程，使得應用加載更快。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ReactDOMServer</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-dom/server</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./App</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">ReactDOMServer</span><span class="p">.</span><span class="nx">renderToString</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="總結">總結</h2>

<p>React 18 帶來了許多強大的新特性和改進：</p>

<ol>
  <li>Concurrent Mode 提升了應用的響應速度。</li>
  <li>Automatic Batching 減少了重新渲染次數。</li>
  <li>Suspense for Data Fetching 使異步操作更加簡單。</li>
  <li>新的 Hooks 提供了更多的功能和靈活性。</li>
  <li>改進的 SSR 和 Hydration 使應用加載更快。</li>
</ol>

<p>通過掌握這些新特性，開發者可以充分利用 React 18 的優勢，構建高效、靈活的應用。</p>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://reactjs.org/">React 官方文檔</a></li>
  <li><a href="https://reactjs.org/blog/2022/03/29/react-v18.html">React 18 發布公告</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2023-03-03-blog-react18-1/">React 18 的重點特性與應用</a>

      </p>
    </footer>
  
</article>


  





<article id="post-blog-blog-vue3&Quasar-2" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2023-02-13-blog-vue3&Quasar-2/" class="flip-title">
        Quasar 與 Vue 3 的進階應用技巧
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2023-02-13T00:00:00+08:00">13 Feb 2023</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T22:25:28+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2023-02-13-blog-vue3&Quasar-2/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://cdn.quasar.dev/logo-v2/svg/logo.svg"
  
  alt="Quasar 與 Vue 3 的進階應用技巧"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#vue-3-在-quasar-中的基礎應用" id="markdown-toc-vue-3-在-quasar-中的基礎應用">Vue 3 在 Quasar 中的基礎應用</a></li>
  <li><a href="#vue-3-在-quasar-中的進階應用技巧" id="markdown-toc-vue-3-在-quasar-中的進階應用技巧">Vue 3 在 Quasar 中的進階應用技巧</a>    <ol>
      <li><a href="#1-使用組合式-api" id="markdown-toc-1-使用組合式-api">1. 使用組合式 API</a></li>
      <li><a href="#2-使用-teleport-組件" id="markdown-toc-2-使用-teleport-組件">2. 使用 Teleport 組件</a></li>
      <li><a href="#3-使用-suspense-組件" id="markdown-toc-3-使用-suspense-組件">3. 使用 Suspense 組件</a></li>
      <li><a href="#4-使用-provideinject" id="markdown-toc-4-使用-provideinject">4. 使用 Provide/Inject</a></li>
      <li><a href="#5-使用-quasar-的響應式工具與-vue-3-的-reactive" id="markdown-toc-5-使用-quasar-的響應式工具與-vue-3-的-reactive">5. 使用 Quasar 的響應式工具與 Vue 3 的 reactive</a></li>
      <li><a href="#6-使用-quasar-插件與-vue-3-的生命週期鉤子" id="markdown-toc-6-使用-quasar-插件與-vue-3-的生命週期鉤子">6. 使用 Quasar 插件與 Vue 3 的生命週期鉤子</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>Quasar 是一個強大的 UI 框架,完全支持 Vue 3。本文將深入探討在 Quasar 中使用 Vue 3 的進階技巧,幫助開發者更好地利用 Vue 3 的新特性。</p>

<h2 id="vue-3-在-quasar-中的基礎應用">Vue 3 在 Quasar 中的基礎應用</h2>

<p>首先,讓我們回顧一下 Vue 3 在 Quasar 中的基本用法:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">q</span><span class="o">-</span><span class="nx">page</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex flex-center</span><span class="dl">"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">q</span><span class="o">-</span><span class="nx">btn</span> <span class="nx">color</span><span class="o">=</span><span class="dl">"</span><span class="s2">primary</span><span class="dl">"</span> <span class="nx">label</span><span class="o">=</span><span class="dl">"</span><span class="s2">點擊我</span><span class="dl">"</span> <span class="p">@</span><span class="nd">click</span><span class="o">=</span><span class="dl">"</span><span class="s2">increment</span><span class="dl">"</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">你已經點擊了</span> <span class="mi">8</span> <span class="nx">次</span><span class="err">。</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/q-page</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="kd">const</span> <span class="nx">increment</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
    <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">increment</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre></div></div>

<h2 id="vue-3-在-quasar-中的進階應用技巧">Vue 3 在 Quasar 中的進階應用技巧</h2>

<h3 id="1-使用組合式-api">1. 使用組合式 API</h3>

<p>Vue 3 的組合式 API 在 Quasar 中可以充分發揮:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span><span class="p">,</span> <span class="nx">onMounted</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useQuasar</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">quasar</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">$q</span> <span class="o">=</span> <span class="nx">useQuasar</span><span class="p">()</span>
    <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="kd">const</span> <span class="nx">doubleCount</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>

    <span class="kd">const</span> <span class="nx">increment</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
      <span class="nx">$q</span><span class="p">.</span><span class="nx">notify</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">計數增加了!</span><span class="dl">'</span> <span class="p">})</span>
    <span class="p">}</span>

    <span class="nx">onMounted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">組件已掛載</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">doubleCount</span><span class="p">,</span> <span class="nx">increment</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span></code></pre></div></div>

<h3 id="2-使用-teleport-組件">2. 使用 Teleport 組件</h3>

<p>Vue 3 的 Teleport 組件在 Quasar 中也能很好地工作:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;template&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;teleport</span> <span class="na">to=</span><span class="s">"body"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;q-dialog</span> <span class="na">v-model=</span><span class="s">"showDialog"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;q-card&gt;</span>
          <span class="nt">&lt;q-card-section&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"text-h6"</span><span class="nt">&gt;</span>對話框內容<span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/q-card-section&gt;</span>
        <span class="nt">&lt;/q-card&gt;</span>
      <span class="nt">&lt;/q-dialog&gt;</span>
    <span class="nt">&lt;/teleport&gt;</span>
    <span class="nt">&lt;q-btn</span> <span class="na">label=</span><span class="s">"顯示對話框"</span> <span class="err">@</span><span class="na">click=</span><span class="s">"showDialog = true"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">showDialog</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span> <span class="nx">showDialog</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h3 id="3-使用-suspense-組件">3. 使用 Suspense 組件</h3>

<p>Suspense 組件可以優雅地處理異步組件:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;template&gt;</span>
  <span class="nt">&lt;suspense&gt;</span>
    <span class="nt">&lt;template</span> <span class="na">#default</span><span class="nt">&gt;</span>
      <span class="nt">&lt;async-component</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/template&gt;</span>
    <span class="nt">&lt;template</span> <span class="na">#fallback</span><span class="nt">&gt;</span>
      <span class="nt">&lt;q-spinner-dots</span> <span class="na">color=</span><span class="s">"primary"</span> <span class="na">size=</span><span class="s">"3em"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/template&gt;</span>
  <span class="nt">&lt;/suspense&gt;</span>
<span class="nt">&lt;/template&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineAsyncComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">components</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">AsyncComponent</span><span class="p">:</span> <span class="nx">defineAsyncComponent</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./AsyncComponent.vue</span><span class="dl">'</span><span class="p">))</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h3 id="4-使用-provideinject">4. 使用 Provide/Inject</h3>

<p>Provide 和 Inject 在 Quasar 應用中可以實現跨組件通信:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 父組件</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">provide</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useQuasar</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">quasar</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">$q</span> <span class="o">=</span> <span class="nx">useQuasar</span><span class="p">()</span>
    <span class="nx">provide</span><span class="p">(</span><span class="dl">'</span><span class="s1">notifyService</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">success</span><span class="p">:</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">$q</span><span class="p">.</span><span class="nx">notify</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">positive</span><span class="dl">'</span><span class="p">,</span> <span class="nx">message</span> <span class="p">})</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 子組件</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">inject</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">notifyService</span> <span class="o">=</span> <span class="nx">inject</span><span class="p">(</span><span class="dl">'</span><span class="s1">notifyService</span><span class="dl">'</span><span class="p">)</span>
    <span class="kd">const</span> <span class="nx">showSuccess</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">notifyService</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="dl">'</span><span class="s1">操作成功!</span><span class="dl">'</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span> <span class="nx">showSuccess</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="5-使用-quasar-的響應式工具與-vue-3-的-reactive">5. 使用 Quasar 的響應式工具與 Vue 3 的 reactive</h3>

<p>結合 Quasar 的響應式工具和 Vue 3 的 reactive:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">reactive</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useQuasar</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">quasar</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">$q</span> <span class="o">=</span> <span class="nx">useQuasar</span><span class="p">()</span>
    <span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span>
      <span class="na">count</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="na">isLargeScreen</span><span class="p">:</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">$q</span><span class="p">.</span><span class="nx">screen</span><span class="p">.</span><span class="nx">gt</span><span class="p">.</span><span class="nx">sm</span><span class="p">)</span>
    <span class="p">})</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">state</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="6-使用-quasar-插件與-vue-3-的生命週期鉤子">6. 使用 Quasar 插件與 Vue 3 的生命週期鉤子</h3>

<p>結合 Quasar 插件和 Vue 3 的生命週期鉤子:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">onMounted</span><span class="p">,</span> <span class="nx">onUnmounted</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useQuasar</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">quasar</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">$q</span> <span class="o">=</span> <span class="nx">useQuasar</span><span class="p">()</span>
    <span class="kd">let</span> <span class="nx">notifyInstance</span> <span class="o">=</span> <span class="kc">null</span>

    <span class="nx">onMounted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">notifyInstance</span> <span class="o">=</span> <span class="nx">$q</span><span class="p">.</span><span class="nx">notify</span><span class="p">({</span>
        <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">歡迎!</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">timeout</span><span class="p">:</span> <span class="mi">0</span>
      <span class="p">})</span>
    <span class="p">})</span>

    <span class="nx">onUnmounted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">notifyInstance</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">notifyInstance</span><span class="p">()</span>
      <span class="p">}</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="總結">總結</h2>

<p>在 Quasar 中使用 Vue 3 的進階技巧可以大大提升開發效率和應用性能:</p>

<ol>
  <li>組合式 API 提供了更靈活的代碼組織方式。</li>
  <li>Teleport 組件可以更好地控制 DOM 結構。</li>
  <li>Suspense 組件簡化了異步組件的處理。</li>
  <li>Provide/Inject 實現了更優雅的跨組件通信。</li>
  <li>結合 Quasar 的響應式工具和 Vue 3 的 reactive 可以創建更強大的響應式系統。</li>
  <li>Quasar 插件與 Vue 3 的生命週期鉤子結合使用,可以更好地管理資源。</li>
</ol>

<p>通過掌握這些進階技巧,開發者可以充分利用 Vue 3 在 Quasar 中的優勢,構建高效、靈活的應用。</p>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://quasar.dev/">Quasar 官方文檔</a></li>
  <li><a href="https://v3.vuejs.org/">Vue 3 文檔</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2023-02-13-blog-vue3&Quasar-2/">Quasar 與 Vue 3 的進階應用技巧</a>

      </p>
    </footer>
  
</article>


  





<article id="post-blog-blog-vue3&Quasar-1" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2023-02-02-blog-vue3&Quasar-1/" class="flip-title">
        Quasar 與 Vue 3 中的進階應用技巧
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2023-02-02T00:00:00+08:00">02 Feb 2023</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T20:27:15+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2023-02-02-blog-vue3&Quasar-1/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://cdn.quasar.dev/logo-v2/svg/logo.svg"
  
  alt="Quasar 與 Vue 3 中的進階應用技巧"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#quasar-基礎回顧" id="markdown-toc-quasar-基礎回顧">Quasar 基礎回顧</a></li>
  <li><a href="#進階應用技巧" id="markdown-toc-進階應用技巧">進階應用技巧</a>    <ol>
      <li><a href="#1-使用-quasar-插件" id="markdown-toc-1-使用-quasar-插件">1. 使用 Quasar 插件</a></li>
      <li><a href="#2-自定義主題" id="markdown-toc-2-自定義主題">2. 自定義主題</a></li>
      <li><a href="#3-使用-quasar-cli" id="markdown-toc-3-使用-quasar-cli">3. 使用 Quasar CLI</a></li>
      <li><a href="#4-利用-quasar-的響應式工具" id="markdown-toc-4-利用-quasar-的響應式工具">4. 利用 Quasar 的響應式工具</a></li>
      <li><a href="#5-使用-quasar-的-ssr-功能" id="markdown-toc-5-使用-quasar-的-ssr-功能">5. 使用 Quasar 的 SSR 功能</a></li>
      <li><a href="#6-集成-quasar-與-pinia" id="markdown-toc-6-集成-quasar-與-pinia">6. 集成 Quasar 與 Pinia</a></li>
      <li><a href="#7-使用-quasar-的-app-extensions" id="markdown-toc-7-使用-quasar-的-app-extensions">7. 使用 Quasar 的 App Extensions</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>Quasar 是一個基於 Vue 3 的強大 UI 框架,提供了豐富的組件和工具,可以快速構建高質量的跨平台應用。本文將深入探討 Quasar 在 Vue 3 中的進階應用技巧,幫助開發者更好地利用 Quasar 框架的特性。</p>

<h2 id="quasar-基礎回顧">Quasar 基礎回顧</h2>

<p>在深入探討進階技巧之前,讓我們簡單回顧一下 Quasar 的基本用法:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">q</span><span class="o">-</span><span class="nx">page</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex flex-center</span><span class="dl">"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">q</span><span class="o">-</span><span class="nx">btn</span> <span class="nx">color</span><span class="o">=</span><span class="dl">"</span><span class="s2">primary</span><span class="dl">"</span> <span class="nx">label</span><span class="o">=</span><span class="dl">"</span><span class="s2">Click me</span><span class="dl">"</span> <span class="p">@</span><span class="nd">click</span><span class="o">=</span><span class="dl">"</span><span class="s2">counter++</span><span class="dl">"</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">You</span><span class="dl">'</span><span class="s1">ve clicked  times.&lt;/p&gt;
  &lt;/q-page&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref } from </span><span class="dl">'</span><span class="nx">vue</span><span class="dl">'</span><span class="s1">

export default {
  setup() {
    const counter = ref(0)
    return { counter }
  }
}
&lt;/script&gt;
</span></code></pre></div></div>

<h2 id="進階應用技巧">進階應用技巧</h2>

<h3 id="1-使用-quasar-插件">1. 使用 Quasar 插件</h3>

<p>Quasar 提供了許多有用的插件,可以輕鬆集成到 Vue 3 應用中:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// quasar.conf.js</span>
<span class="k">return</span> <span class="p">{</span>
  <span class="na">framework</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">Notify</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Dialog</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 在組件中使用</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useQuasar</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">quasar</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">$q</span> <span class="o">=</span> <span class="nx">useQuasar</span><span class="p">()</span>
    
    <span class="kd">function</span> <span class="nx">showNotification</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">$q</span><span class="p">.</span><span class="nx">notify</span><span class="p">({</span>
        <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Hello!</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">positive</span><span class="dl">'</span>
      <span class="p">})</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">showNotification</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="2-自定義主題">2. 自定義主題</h3>

<p>Quasar 允許輕鬆自定義應用的主題:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// quasar.variables.scss</span>
<span class="nx">$primary</span>   <span class="p">:</span> <span class="err">#</span><span class="mi">1976</span><span class="nx">D2</span><span class="p">;</span>
<span class="nl">$secondary</span> <span class="p">:</span> <span class="err">#</span><span class="mi">26</span><span class="nx">A69A</span><span class="p">;</span>
<span class="nl">$accent</span>    <span class="p">:</span> <span class="err">#</span><span class="mi">9</span><span class="nx">C27B0</span><span class="p">;</span>

<span class="nl">$dark</span>      <span class="p">:</span> <span class="err">#</span><span class="mi">1</span><span class="nx">D1D1D</span><span class="p">;</span>

<span class="nl">$positive</span>  <span class="p">:</span> <span class="err">#</span><span class="mi">21</span><span class="nx">BA45</span><span class="p">;</span>
<span class="nl">$negative</span>  <span class="p">:</span> <span class="err">#</span><span class="nx">C10015</span><span class="p">;</span>
<span class="nl">$info</span>      <span class="p">:</span> <span class="err">#</span><span class="mi">31</span><span class="nx">CCEC</span><span class="p">;</span>
<span class="nl">$warning</span>   <span class="p">:</span> <span class="err">#</span><span class="nx">F2C037</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="3-使用-quasar-cli">3. 使用 Quasar CLI</h3>

<p>Quasar CLI 提供了強大的開發工具:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 創建新項目</span>
quasar create my-project

<span class="c"># 添加 PWA 支持</span>
quasar mode add pwa

<span class="c"># 運行開發服務器</span>
quasar dev

<span class="c"># 構建生產版本</span>
quasar build
</code></pre></div></div>

<h3 id="4-利用-quasar-的響應式工具">4. 利用 Quasar 的響應式工具</h3>

<p>Quasar 提供了豐富的響應式工具:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;template&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"gt-sm"</span><span class="nt">&gt;</span>只在大屏幕上顯示<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lt-md"</span><span class="nt">&gt;</span>只在小屏幕上顯示<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useQuasar</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">quasar</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">$q</span> <span class="o">=</span> <span class="nx">useQuasar</span><span class="p">()</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">$q</span><span class="p">.</span><span class="nx">screen</span><span class="p">.</span><span class="nx">gt</span><span class="p">.</span><span class="nx">sm</span><span class="p">)</span> <span class="c1">// 是否大於小屏幕</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h3 id="5-使用-quasar-的-ssr-功能">5. 使用 Quasar 的 SSR 功能</h3>

<p>Quasar 支持服務器端渲染 (SSR):</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// quasar.conf.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">ssr</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">pwa</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="6-集成-quasar-與-pinia">6. 集成 Quasar 與 Pinia</h3>

<p>Quasar 可以與 Pinia 無縫集成:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/stores/counter.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useCounterStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">counter</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">state</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="na">count</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">}),</span>
  <span class="na">actions</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">increment</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// 在組件中使用</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useCounterStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">src/stores/counter</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">counterStore</span> <span class="o">=</span> <span class="nx">useCounterStore</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span> <span class="nx">counterStore</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="7-使用-quasar-的-app-extensions">7. 使用 Quasar 的 App Extensions</h3>

<p>Quasar App Extensions 可以擴展項目功能:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 添加 Dotenv 擴展</span>
quasar ext add @quasar/dotenv

<span class="c"># 使用擴展</span>
import <span class="o">{</span> config <span class="o">}</span> from <span class="s1">'@quasar/dotenv'</span>
console.log<span class="o">(</span>config.MY_API_KEY<span class="o">)</span>
</code></pre></div></div>

<h2 id="總結">總結</h2>

<p>Quasar 在 Vue 3 中提供了強大而靈活的開發解決方案:</p>

<ol>
  <li>豐富的 UI 組件和插件系統大大提高了開發效率。</li>
  <li>自定義主題功能使得應用風格靈活可控。</li>
  <li>Quasar CLI 提供了完整的開發工具鏈。</li>
  <li>響應式設計工具使得跨平台開發變得簡單。</li>
  <li>SSR 支持有助於提升應用性能和 SEO。</li>
  <li>與 Pinia 等 Vue 生態系統的無縫集成。</li>
  <li>App Extensions 系統允許進一步擴展功能。</li>
</ol>

<p>通過掌握這些進階技巧,開發者可以充分利用 Quasar 框架的優勢,構建高效、美觀、跨平台的 Vue 3 應用。</p>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://quasar.dev/">Quasar 官方文檔</a></li>
  <li><a href="https://v3.vuejs.org/">Vue 3 文檔</a></li>
  <li><a href="https://pinia.vuejs.org/">Pinia 文檔</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2023-02-02-blog-vue3&Quasar-1/">Quasar 與 Vue 3 中的進階應用技巧</a>

      </p>
    </footer>
  
</article>


  





<article id="post-blog-blog-vue3&Pinia" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2023-01-09-blog-vue3&Pinia/" class="flip-title">
        Pinia 在 Vue 3 中的進階應用技巧
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2023-01-09T00:00:00+08:00">09 Jan 2023</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T22:29:51+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2023-01-09-blog-vue3&Pinia/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://pinia.vuejs.org/logo.svg"
  
  alt="Pinia 在 Vue 3 中的進階應用技巧"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#pinia-基礎回顧" id="markdown-toc-pinia-基礎回顧">Pinia 基礎回顧</a></li>
  <li><a href="#進階應用技巧" id="markdown-toc-進階應用技巧">進階應用技巧</a>    <ol>
      <li><a href="#1-組合式函數與-pinia-結合" id="markdown-toc-1-組合式函數與-pinia-結合">1. 組合式函數與 Pinia 結合</a></li>
      <li><a href="#2-訂閱-store-變化" id="markdown-toc-2-訂閱-store-變化">2. 訂閱 Store 變化</a></li>
      <li><a href="#3-插件系統" id="markdown-toc-3-插件系統">3. 插件系統</a></li>
      <li><a href="#4-持久化存儲" id="markdown-toc-4-持久化存儲">4. 持久化存儲</a></li>
      <li><a href="#5-模塊化和命名空間" id="markdown-toc-5-模塊化和命名空間">5. 模塊化和命名空間</a></li>
      <li><a href="#6-與-vue-router-集成" id="markdown-toc-6-與-vue-router-集成">6. 與 Vue Router 集成</a></li>
      <li><a href="#7-測試友好" id="markdown-toc-7-測試友好">7. 測試友好</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>Pinia 作為 Vue 3 的官方狀態管理庫,提供了簡潔、靈活且強大的 API。本文將深入探討 Pinia 在 Vue 3 中的進階應用技巧,幫助開發者更好地組織和管理應用狀態。</p>

<h2 id="pinia-基礎回顧">Pinia 基礎回顧</h2>

<p>在深入探討進階技巧之前,讓我們簡單回顧一下 Pinia 的基本用法:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useCounterStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">counter</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">state</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span> 
    <span class="na">count</span><span class="p">:</span> <span class="mi">0</span> 
  <span class="p">}),</span>
  <span class="na">getters</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">doubleCount</span><span class="p">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">actions</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">increment</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">})</span>
</code></pre></div></div>

<h2 id="進階應用技巧">進階應用技巧</h2>

<h3 id="1-組合式函數與-pinia-結合">1. 組合式函數與 Pinia 結合</h3>

<p>Pinia 可以與 Vue 3 的組合式函數(Composition API)完美結合,實現更靈活的狀態管理:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useCounterStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">counter</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  <span class="kd">const</span> <span class="nx">doubleCount</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
  
  <span class="kd">function</span> <span class="nx">increment</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">doubleCount</span><span class="p">,</span> <span class="nx">increment</span> <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<p>這種方式使得狀態邏輯更容易組織和重用。</p>

<h3 id="2-訂閱-store-變化">2. 訂閱 Store 變化</h3>

<p>Pinia 允許訂閱 store 的變化,這對於日誌記錄、持久化等場景非常有用:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">unsubscribe</span> <span class="o">=</span> <span class="nx">store</span><span class="p">.</span><span class="nx">$subscribe</span><span class="p">((</span><span class="nx">mutation</span><span class="p">,</span> <span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mutation</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mutation</span><span class="p">.</span><span class="nx">storeId</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mutation</span><span class="p">.</span><span class="nx">payload</span><span class="p">)</span>
<span class="p">})</span>
<span class="c1">// 停止訂閱</span>
<span class="nx">unsubscribe</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="3-插件系統">3. 插件系統</h3>

<p>Pinia 提供了強大的插件系統,可以擴展 store 的功能:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createPinia</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nx">myPiniaPlugin</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="p">...</span><span class="nx">context</span><span class="p">,</span>
    <span class="nx">$reset</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// 自定義重置邏輯</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">pinia</span> <span class="o">=</span> <span class="nx">createPinia</span><span class="p">()</span>
<span class="nx">pinia</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">myPiniaPlugin</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="4-持久化存儲">4. 持久化存儲</h3>

<p>結合插件系統,我們可以輕鬆實現狀態的持久化存儲:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useUserStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">state</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
  <span class="p">}),</span>
  <span class="na">persist</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">enabled</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">strategies</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="na">storage</span><span class="p">:</span> <span class="nx">localStorage</span><span class="p">,</span> <span class="na">paths</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">token</span><span class="dl">'</span><span class="p">]</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">storage</span><span class="p">:</span> <span class="nx">sessionStorage</span><span class="p">,</span> <span class="na">paths</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">],</span>
  <span class="p">},</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="5-模塊化和命名空間">5. 模塊化和命名空間</h3>

<p>Pinia 原生支持模塊化,無需額外配置:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// stores/user.js</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">useUserStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
<span class="c1">// stores/product.js</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">useProductStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">product</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
<span class="c1">// 使用</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useUserStore</span><span class="p">,</span> <span class="nx">useProductStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@/stores</span><span class="dl">'</span>
<span class="kd">const</span> <span class="nx">userStore</span> <span class="o">=</span> <span class="nx">useUserStore</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">productStore</span> <span class="o">=</span> <span class="nx">useProductStore</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="6-與-vue-router-集成">6. 與 Vue Router 集成</h3>

<p>Pinia 可以與 Vue Router 無縫集成,實現基於路由的狀態管理:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useRoute</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue-router</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">usePageStore</span> <span class="o">=</span> <span class="nx">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">page</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="kd">const</span> <span class="nx">route</span> <span class="o">=</span> <span class="nx">useRoute</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">pageTitle</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">route</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">title</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">Default Title</span><span class="dl">'</span><span class="p">)</span>
<span class="k">return</span> <span class="p">{</span> <span class="nx">pageTitle</span> <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="7-測試友好">7. 測試友好</h3>

<p>Pinia 的設計使得單元測試變得簡單:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">setActivePinia</span><span class="p">,</span> <span class="nx">createPinia</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useCounterStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./counter</span><span class="dl">'</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Counter Store</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setActivePinia</span><span class="p">(</span><span class="nx">createPinia</span><span class="p">())</span>
  <span class="p">})</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">increments</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">useCounterStore</span><span class="p">()</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">count</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="nx">store</span><span class="p">.</span><span class="nx">increment</span><span class="p">()</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">count</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span>
</code></pre></div></div>

<h2 id="總結">總結</h2>

<p>Pinia 在 Vue 3 中提供了強大而靈活的狀態管理解決方案:</p>

<ol>
  <li>與組合式 API 的無縫集成使得狀態邏輯更易組織和重用。</li>
  <li>訂閱機制和插件系統提供了強大的擴展能力。</li>
  <li>原生支持模塊化,無需額外配置。</li>
  <li>與 Vue Router 的集成使得基於路由的狀態管理變得簡單。</li>
  <li>良好的測試支持有助於提高代碼質量。</li>
</ol>

<p>通過掌握這些進階技巧,開發者可以更好地利用 Pinia 來構建可維護、高性能的 Vue 3 應用。</p>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://pinia.vuejs.org/">Pinia 官方文檔</a></li>
  <li><a href="https://v3.vuejs.org/">Vue 3 文檔</a></li>
  <li><a href="https://router.vuejs.org/">Vue Router 文檔</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2023-01-09-blog-vue3&Pinia/">Pinia 在 Vue 3 中的進階應用技巧</a>

      </p>
    </footer>
  
</article>


  





<article id="post-blog-blog-vue3&React-2" class="page post mb6" role="article">
  <header>
    <h1 class="post-title flip-project-title">
      <a href="/blog/2022-07-20-blog-vue3&React-2/" class="flip-title">
        Vue 3 與 React 16.8 進階技術比較
      </a>
    </h1>

    <div class="post-date">
      
      <span class="ellipsis mr1">
        <time datetime="2022-07-20T00:00:00+08:00">20 Jul 2022</time> in <span>Blog</span> 
      </span>
      
        
          
          
          
            
            
            <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024">
              <span class="sr-only">Last modified at:</span>
              <span class="icon-history"></span>
              <time datetime="2024-09-14T22:26:47+08:00">2024-09-14</time>
            </span>
          
        
      
    </div>

    
    
      <a href="/blog/2022-07-20-blog-vue3&React-2/" class="no-hover no-print-link flip-project" tabindex="-1">
        <div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img">
          


<img
  
    src="https://media.licdn.com/dms/image/D5612AQG28-Q25BRGDA/article-cover_image-shrink_720_1280/0/1715091435390?e=2147483647&v=beta&t=a-ooQtZ5J4DThRJvSJpQjPG9x5czjYkUtGnwNfzeKRE"
  
  alt="Vue 3 與 React 16.8 進階技術比較"
  
  
  width="864"
  height="486"
  loading="lazy"
/>

        </div>
      </a>
      
    

    



  


  </header>

  
    <ol id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#性能優化" id="markdown-toc-性能優化">性能優化</a>    <ol>
      <li><a href="#vue-3" id="markdown-toc-vue-3">Vue 3</a></li>
      <li><a href="#react-168" id="markdown-toc-react-168">React 16.8</a></li>
    </ol>
  </li>
  <li><a href="#狀態管理" id="markdown-toc-狀態管理">狀態管理</a>    <ol>
      <li><a href="#vue-3-1" id="markdown-toc-vue-3-1">Vue 3</a></li>
      <li><a href="#react-168-1" id="markdown-toc-react-168-1">React 16.8</a></li>
    </ol>
  </li>
  <li><a href="#代碼分割和懶加載" id="markdown-toc-代碼分割和懶加載">代碼分割和懶加載</a>    <ol>
      <li><a href="#vue-3-2" id="markdown-toc-vue-3-2">Vue 3</a></li>
      <li><a href="#react-168-2" id="markdown-toc-react-168-2">React 16.8</a></li>
    </ol>
  </li>
  <li><a href="#服務端渲染-ssr" id="markdown-toc-服務端渲染-ssr">服務端渲染 (SSR)</a>    <ol>
      <li><a href="#vue-3-3" id="markdown-toc-vue-3-3">Vue 3</a></li>
      <li><a href="#react-168-3" id="markdown-toc-react-168-3">React 16.8</a></li>
    </ol>
  </li>
  <li><a href="#總結" id="markdown-toc-總結">總結</a></li>
  <li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></li>
</ol>

<h2 id="前言">前言</h2>

<p>Vue 3 和 React 16.8 都引入了革命性的新特性,大大提升了開發體驗和應用性能。本文將深入探討這兩個框架的進階特性,包括性能優化、狀態管理、代碼分割等方面,幫助開發者更全面地理解兩個框架的優勢和適用場景。</p>

<h2 id="性能優化">性能優化</h2>

<h3 id="vue-3">Vue 3</h3>

<ol>
  <li>
    <p>靜態樹提升 (Static Tree Hoisting):
Vue 3 編譯器能夠檢測模板中的靜態內容,並將其提升到渲染函數之外,減少每次渲染時的計算量。</p>
  </li>
  <li>
    <p>靜態屬性提升 (Static Props Hoisting):
對於靜態的綁定,Vue 3 會在編譯時直接生成靜態的 VNode,避免運行時的開銷。</p>
  </li>
  <li>
    <p>基於 Proxy 的響應式系統:
相比 Vue 2 基於 Object.defineProperty 的實現,Vue 3 的 Proxy 實現提供了更好的性能和更少的限制。</p>
  </li>
</ol>

<h3 id="react-168">React 16.8</h3>

<ol>
  <li>
    <p>並發模式 (Concurrent Mode):
React 16.8 引入了實驗性的並發模式,允許 React 中斷長時間運行的渲染,優先處理更高優先級的更新。</p>
  </li>
  <li>
    <p>懶加載和 Suspense:
React.lazy() 和 Suspense 組件使得代碼分割和異步加載組件變得更加簡單。</p>
  </li>
  <li>
    <p>記憶化 (Memoization):
React.memo 和 useMemo Hook 可以幫助避免不必要的重渲染,提高性能。</p>
  </li>
</ol>

<h2 id="狀態管理">狀態管理</h2>

<h3 id="vue-3-1">Vue 3</h3>

<ol>
  <li>
    <p>Composition API:
提供了更靈活的狀態管理方式,可以輕鬆地將邏輯抽取到可重用的函數中。</p>
  </li>
  <li>
    <p>Provide/Inject:
用於跨組件層級傳遞數據,類似於 React 的 Context API。</p>
  </li>
  <li>
    <p>Vuex 4:
專為 Vue 3 設計的狀態管理庫,支持 Composition API。</p>
  </li>
</ol>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">provide</span><span class="p">,</span> <span class="nx">inject</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vuex</span><span class="dl">'</span>

<span class="c1">// 在根組件中</span>
<span class="nx">provide</span><span class="p">(</span><span class="dl">'</span><span class="s1">store</span><span class="dl">'</span><span class="p">,</span> <span class="nx">store</span><span class="p">)</span>

<span class="c1">// 在子組件中</span>
<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">inject</span><span class="p">(</span><span class="dl">'</span><span class="s1">store</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="react-168-1">React 16.8</h3>

<ol>
  <li>
    <p>Context API:
用於在組件樹中傳遞數據,無需顯式地通過 props 傳遞。</p>
  </li>
  <li>
    <p>useReducer Hook:
提供了類似 Redux 的狀態管理方式,適用於複雜的狀態邏輯。</p>
  </li>
  <li>
    <p>Redux Toolkit:
簡化了 Redux 的使用,提供了更好的開發體驗。</p>
  </li>
</ol>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useContext</span><span class="p">,</span> <span class="nx">useReducer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">StateContext</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createContext</span><span class="p">()</span>

<span class="kd">function</span> <span class="nx">reducer</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// 狀態更新邏輯</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">dispatch</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useReducer</span><span class="p">(</span><span class="nx">reducer</span><span class="p">,</span> <span class="nx">initialState</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">StateContext</span><span class="p">.</span><span class="nx">Provider</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span> <span class="nx">state</span><span class="p">,</span> <span class="nx">dispatch</span> <span class="p">}</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="cm">/* 子組件 */</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/StateContext.Provider</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="代碼分割和懶加載">代碼分割和懶加載</h2>

<h3 id="vue-3-2">Vue 3</h3>

<ol>
  <li>
    <p>異步組件:
Vue 3 提供了 defineAsyncComponent 方法來創建異步組件。</p>
  </li>
  <li>
    <p>動態導入:
結合 Webpack 的動態導入功能,可以實現路由級別的代碼分割。</p>
  </li>
</ol>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">defineAsyncComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">AsyncComp</span> <span class="o">=</span> <span class="nx">defineAsyncComponent</span><span class="p">(()</span> <span class="o">=&gt;</span>
  <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./components/AsyncComponent.vue</span><span class="dl">'</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="react-168-2">React 16.8</h3>

<ol>
  <li>
    <p>React.lazy:
用於動態導入組件。</p>
  </li>
  <li>
    <p>Suspense:
用於處理異步操作,如數據獲取或代碼分割。</p>
  </li>
</ol>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Suspense</span><span class="p">,</span> <span class="nx">lazy</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">LazyComponent</span> <span class="o">=</span> <span class="nx">lazy</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./LazyComponent</span><span class="dl">'</span><span class="p">))</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Suspense</span> <span class="nx">fallback</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;}</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">LazyComponent</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/Suspense</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="服務端渲染-ssr">服務端渲染 (SSR)</h2>

<h3 id="vue-3-3">Vue 3</h3>

<ol>
  <li>
    <p>改進的 SSR 架構:
Vue 3 的 SSR 實現更加高效,支持流式渲染。</p>
  </li>
  <li>
    <p>Nuxt.js 3:
基於 Vue 3 的服務端渲染框架,提供了豐富的功能和優化。</p>
  </li>
</ol>

<h3 id="react-168-3">React 16.8</h3>

<ol>
  <li>
    <p>React Server Components:
一種新的組件類型,可以在服務器上渲染,減少客戶端的 JavaScript 負載。</p>
  </li>
  <li>
    <p>Next.js:
流行的 React SSR 框架,提供了自動代碼分割、靜態生成等功能。</p>
  </li>
</ol>

<h2 id="總結">總結</h2>

<p>Vue 3 和 React 16.8 都在性能優化、狀態管理和代碼組織方面做出了重大改進:</p>

<ol>
  <li>Vue 3 的靜態樹提升和 Proxy 響應式系統提供了出色的性能,而 React 的並發模式為複雜應用提供了更好的用戶體驗。</li>
  <li>兩個框架都提供了強大的狀態管理解決方案,Vue 3 的 Composition API 和 React 的 Hooks 使得狀態邏輯更容易組織和重用。</li>
  <li>在代碼分割和懶加載方面,兩個框架都提供了簡單易用的 API。</li>
  <li>服務端渲染方面,Vue 3 和 React 都有成熟的解決方案和持續的創新。</li>
</ol>

<p>選擇使用哪個框架仍然取決於項目需求、團隊經驗和個人偏好。深入理解這些進階特性將幫助開發者在不同場景下做出更明智的選擇,並充分發揮所選框架的潛力。</p>

<h2 id="參考資料">參考資料</h2>
<ul>
  <li><a href="https://v3.vuejs.org/guide/optimizations.html">Vue 3 性能優化</a></li>
  <li><a href="https://reactjs.org/docs/concurrent-mode-intro.html">React 並發模式</a></li>
  <li><a href="https://v3.vuejs.org/guide/ssr.html">Vue 3 SSR 指南</a></li>
  <li><a href="https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html">React Server Components</a></li>
</ul>


    
    
    <footer>
      <p class="read-more">
        Continue reading <a class="heading flip-title" href="/blog/2022-07-20-blog-vue3&React-2/">Vue 3 與 React 16.8 進階技術比較</a>

      </p>
    </footer>
  
</article>




  <h2 class="sr-only">Pagination</h2>
<nav class="pagination heading clearfix" role="navigation">
  <ul>
    <li class="pagination-item older" >
      
      
      
  <a
    class=" "
    href="/2/"
    rel="next"
    
  >Older</a>


    </li>
    <li class="pagination-item newer" >
      
      
      
  <span class=" ">Newer</span>


    </li>
  </ul>
</nav>



  
<footer class="content" role="contentinfo">
  <hr/>
  
    <p><small class="copyright">© 2021. All rights reserved.
</small></p>
  
  
  
  <hr class="sr-only"/>
</footer>


</main>

  
</hy-push-state>


  <!--[if gt IE 10]><!---->
  <script nomodule>!function(){var t,n=document.createElement("script");!("noModule"in n)&&"onbeforeload"in n&&(t=!1,document.addEventListener("beforeload",function(e){if(e.target===n)t=!0;else if(!e.target.hasAttribute("nomodule")||!t)return;e.preventDefault()},!0),n.type="module",n.src=".",document.head.appendChild(n),n.remove())}();
</script>
  <script src="/assets/js/hydejack-9.1.6.js" type="module"></script>
  <script src="/assets/js/LEGACY-hydejack-9.1.6.js" nomodule defer></script>
  

  

  <script type="module">
    if ('serviceWorker' in navigator) {
      /**/
      navigator.serviceWorker.getRegistration()
        .then(r => r.unregister())
        .catch(() => {});
      /**/
    }
  </script>
<!--<![endif]-->
  <!-- <script>
  document.querySelector('hy-push-state').setAttribute('prefetch', '');

  document.querySelectorAll('.sidebar a[href^="/"]').forEach(function (el) { 
    el.addEventListener('click', function (e) {
      if (el.pathname === window.location.pathname) {
        e.preventDefault();
        e.stopPropagation();
        document.querySelector('hy-drawer').close();
      }
    });
  });
</script> -->

<!--
Code for integrating CloudFlare's email protection with Hydejack's single page app loading.
-->
<script>
  document.getElementById('_pushState').addEventListener('hy-push-state-after', function (e) {
    function e(e){
      (console.error?console.error:console.log).call(console,e)
    }

    function t(e){
      return l.innerHTML='<a href="'+e.replace(/"/g,"&quot;")+'"></a>',l.childNodes[0].getAttribute("href")
    }

    function r(e,t){
      var r=e.substr(t,2);return parseInt(r,16)
    }

    function n(e,n){
      for(var o="",c=r(e,n),a=n+2;a<e.length;a+=2){
        var l=r(e,a)^c;
        o+=String.fromCharCode(l)
      }
      return t(o)
    }

    var o="/cdn-cgi/l/email-protection#",
        c=".__cf_email__",
        a="data-cfemail",
        l=document.createElement("div");

    !function(){
      for(var t=document.getElementsByTagName("a"),r=0;r<t.length;r++)
        try{
          var c=t[r],a=c.href.indexOf(o);
          a>-1&&(c.href="mailto:"+n(c.href,a+o.length))
        }catch(t){
          e(t)
        }
    }(),
    function(){
      for(var t=document.querySelectorAll(c),r=0;r<t.length;r++)
        try{
          var o=t[r],l=n(o.getAttribute(a),0),i=document.createTextNode(l);
          o.parentNode.replaceChild(i,o)
        }catch(t){
          e(t)
        }
    }()
  });
</script>





<div hidden>
  
  <h2 class="sr-only">Templates (for web app):</h2>

  <template id="_animation-template">
  <div class="animation-main fixed-top">
    <nav id="breadcrumbs" class="screen-only"><ul>
  
  
</ul></nav>
    <div class="content">
      <div class="page"></div>
    </div>
  </div>
</template>

  <template id="_loading-template">
  <div class="loading nav-btn fr">
    <span class="sr-only">Loading…</span>
    <span class="icon-cog"></span>
  </div>
</template>

  <template id="_error-template">
  <div class="page">
    <h1 class="page-title">Error</h1>
    
    
    <p class="lead">
      Sorry, an error occurred while loading <a class="this-link" href=""></a>.

    </p>
  </div>
</template>

  <template id="_permalink-template">
  <a href="#" class="permalink">
    <span class="sr-only">Permalink</span>
    <span class="content-hash"></span>
  </a>
</template>

  
  
    <template id="_dark-mode-template">
  <button id="_dark-mode" class="nav-btn no-hover" >
    <span class="sr-only">Dark Mode</span>
    <span class="icon-brightness-contrast"></span>
  </button>
</template>

  
  
    <template id="_search-template">
  <button id="_search" class="nav-btn no-hover">
    <label class="sr-only" for="_search-input">Search</label>
    <span class="icon-search"></span>
  </button>
  <div id="_search-box">
    <div class="nav-btn">
      <span class="icon-search"></span>
    </div>
    <input 
      id="_search-input"
      type="search"
      class="form-control form-control-lg nav-btn"
      placeholder="Build with JEKYLL_ENV=production to enable search."
    />
    <button type="reset" class="nav-btn no-hover">
      <span class="sr-only">Close</span>
      <span class="icon-cross"></span>
    </button>
  </div>
  <div id="_hits"></div>
</template>

  
</div>

</body>
</html>
