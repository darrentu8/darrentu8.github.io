<!DOCTYPE html>
<html lang="zh"><head><title>Page 2 of 3 for Blog | Darren</title><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Blog" /><meta name="author" content="Darren Tu" /><meta property="og:locale" content="zh_TW" /><meta name="description" content="The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll." /><meta property="og:description" content="The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll." /><link rel="canonical" href="https://darrentu8.github.io/2/" /><meta property="og:url" content="https://darrentu8.github.io/2/" /><meta property="og:site_name" content="Darren" /><meta property="og:type" content="website" /><link rel="prev" href="https://darrentu8.github.io/" /><link rel="next" href="https://darrentu8.github.io/3/" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Blog" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Darren Tu"},"dateModified":"2022-06-28T01:14:55+08:00","description":"The official Hydejack blog. Version updates, example content and how-to guides on how to blog with Jekyll.","headline":"Blog","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://darrentu8.github.io/assets/img/logo.png"},"name":"Darren Tu"},"url":"https://darrentu8.github.io/2/"}</script><meta name="color-scheme" content="light"><meta name="theme-color" content="rgb(8,46,57)"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Darren"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="application-name" content="Darren"><meta name="generator" content="Hydejack v9.2.1" /><link rel="alternate" href="https://darrentu8.github.io/2/" hreflang="zh-tw"><link type="application/atom+xml" rel="alternate" href="https://darrentu8.github.io/feed.xml" title="Darren" /><link rel="shortcut icon" href="/assets/icons/favicon.ico"><link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preload" href="/assets/img/swipe.svg" as="image" id="_hrefSwipeSVG"><link rel="dns-prefetch" href="/assets/js/search-worker-9.2.1.js" as="worker" id="_hrefSearch"> <script>((r,a)=>{function d(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}r.loadJS=function(e,t){var n=a.createElement("script"),e=(n.src=e,t&&d(n,"load",t,{once:!0}),a.scripts[0]);return e.parentNode.insertBefore(n,e),n},r._loaded=!1,r.loadJSDeferred=function(e,t){var n=a.createElement("script");function o(){r._loaded=!0,t&&d(n,"load",t,{once:!0});var e=a.scripts[0];e.parentNode.insertBefore(n,e)}return n.src=e,r._loaded?o():d(r,"load",o,{once:!0}),n},r.setRel=r.setRelStylesheet=function(e){d(a.getElementById(e),"load",function(){this.rel="stylesheet"},{once:!0})}})(window,document); !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); !function(w) { w._baseURL = '/'; w._publicPath = '/assets/js/'; w._noPushState = false; w._noDrawer = false; w._noNavbar = false; w._noToc = false; w._noSearch = false; w._advertise = false; w._search = { DATA_URL: '/assets/sitedata.json?no-cache', STORAGE_KEY: 'mini-search/', INDEX_KEY: 'index--2024-10-04T20:40:01+08:00', }; w._clapButton = false; }(window);</script> <script async src="/assets/bower_components/MathJax/es5/tex-mml-chtml.js" id="_MathJax"></script> <!--[if gt IE 8]><!----><style id="_styleInline"> .clearfix,.sidebar-social::after{content:"";display:table;clear:both}.color-transition,.content .avatar,.nav-btn,.nav-btn-bar,.navbar,.message,.note-sm,#markdown-toc,.note,.hr-bottom,.hr-after::after,hr,.hr,p,body{transition:none}#_dark-mode{font-size:1.25rem}@media screen{body,body.light-mode{--body-color: #333;--body-bg: #fff;--border-color: #ebebeb;--gray: #777;--gray-bg: rgba(0, 0, 0, 0.025);--gray-text: #666;--menu-text: #bbb;--inv-body-color: #ccc;--inv-body-bg: var(--dark-mode-body-bg)}body .content,body.light-mode .content{-webkit-font-smoothing:initial;-moz-osx-font-smoothing:initial}body.dark-mode{--body-color: #ccc;--body-bg: var(--dark-mode-body-bg);--border-color: var(--dark-mode-border-color);--gray: rgba(255,255,255,.5);--gray-bg: rgba(255,255,255,.033);--gray-text: rgba(255,255,255,.625);--menu-text: rgba(255,255,255,.25);--inv-body-color: #333;--inv-body-bg: #fff}body.dark-mode .content{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}}html{--font-family: Noto Sans, Helvetica, Arial, sans-serif;--font-family-heading: Roboto Slab, Helvetica, Arial, sans-serif;--code-font-family: Fira Code, Menlo, Monaco, Consolas, monospace;--root-font-size: 15px;--root-font-size-medium: 16px;--root-font-size-large: 17px;--root-font-size-print: 8pt;--root-line-height: 1.75;--font-weight: 400;--font-weight-bold: 700;--font-weight-heading: 900;--content-width-5: 54rem;--content-margin-5: 4rem;--sidebar-width: 21rem;--half-content: 31rem;--break-point-3: 64em;--break-point-5: 86em;--break-point-dynamic: 104rem}*{box-sizing:border-box}html,body{margin:0;padding:0}html{font-family:var(--font-family);font-size:var(--root-font-size);line-height:var(--root-line-height)}body{color:var(--body-color);background-color:var(--body-bg);font-weight:var(--font-weight);overflow-y:scroll}.content img,.img,.content video,.video{max-width:100%;height:auto}.lead{margin-left:-1rem;margin-right:-1rem;margin-bottom:1.5rem}img.lead,video.lead{display:block;max-width:calc(100% + 2rem);width:calc(100% + 2rem);height:auto}.heading,.f6,h6,.h6,.f5,h5,.h5,.f4,.sidebar-nav-item,h4,.h4,.post-date,.f3,h3,.h3,.f2,h2,.h2,.f1,h1,.h1{font-family:var(--font-family-heading);font-weight:var(--font-weight-heading)}.f1,h1,.h1{font-size:2rem;line-height:1.3}.f2,h2,.h2{font-size:1.5rem;line-height:1.4}.f3,h3,.h3{font-size:1.2em;line-height:1.5}.f4,.sidebar-nav-item,h4,.h4,.post-date{font-size:1.08rem;line-height:1.6}.f5,h5,.h5{font-size:1.04rem;line-height:1.7}.f6,h6,.h6{font-size:1rem}.content h1>a,.content .h1>a{text-decoration:none;border-bottom:none}@media screen and (max-width: 42em){.content h1,.content .h1{font-size:1.7rem;line-height:1.35}}@media screen and (min-width: 86em){.content h1,.content .h1{font-size:2.4rem;line-height:1.25}}@media screen and (min-width: 104rem){body:not(.no-large-headings) .content h1,body:not(.no-large-headings) .content .h1{width:calc(100% + 50vw - 32rem);font-size:3rem;line-height:1.2}}@media screen and (min-width: 124em){body:not(.no-large-headings) .content h1,body:not(.no-large-headings) .content .h1{font-size:4rem;line-height:1.1}}h1,h2,h3,.h1,.h2,.h3{margin:4rem 0 1rem}h4,h5,h6,.h4,.post-date,.h5,.h6{margin:3rem 0 .5rem}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.2em;margin-top:1.5rem;margin-bottom:1.5rem;padding:0 1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}ul,ol{padding-left:1.25rem}hr,.hr{border:0;margin:1rem 0;border-top:1px solid var(--border-color)}.hr-after::after{content:"";display:block;margin:1rem 0;border-top:1px solid var(--border-color)}.hr-bottom{border-bottom:1px solid var(--border-color);padding-bottom:.75rem;margin-bottom:1rem}.page{margin-bottom:3em}.page li+li{margin-top:.25rem}.page>header{position:relative;margin-bottom:2rem}@media screen and (min-width: 104rem){body:not(.no-third-column) .page>header>.lead+.note-sm,body:not(.no-third-column) .page>header>.lead+#markdown-toc,body:not(.no-third-column) .page>header>.lead+.note,body:not(.no-third-column) .page>header>a.no-hover+.note-sm,body:not(.no-third-column) .page>header>a.no-hover+#markdown-toc,body:not(.no-third-column) .page>header>a.no-hover+.note{position:absolute;right:-25rem;width:21rem;bottom:0;margin-bottom:0}}.page-title,.post-title{margin-top:0}.post-date{display:flex;justify-content:space-between;margin-top:-0.6rem;height:2rem;margin-bottom:.85rem;color:var(--gray)}.post-date>.ellipsis,#breadcrumbs.post-date>ul{cursor:pointer}.post-date [class^=icon-]{display:inline-block;font-size:smaller;margin-right:.25rem}.related-posts{padding-left:0;list-style:none;margin-bottom:2rem}.related-posts>li,.related-posts>li+li{margin-top:1rem}.message,.note-sm,#markdown-toc,.note{margin-bottom:1rem;padding:1rem;color:var(--gray-text);background-color:var(--gray-bg);margin-left:-1rem;margin-right:-1rem}.note-sm,#markdown-toc,.note{background:rgba(0,0,0,0);color:var(--body-color);font-size:smaller;border-left:1px solid var(--border-color);padding:1.2rem 1rem 0 1rem;margin:1rem -1rem;position:relative}.note-sm:before,#markdown-toc:before,.note:before{font-size:.667rem;font-weight:bold;font-style:normal;letter-spacing:.025rem;text-transform:uppercase;color:var(--menu-text);position:absolute;top:0}.note-sm[title]:before,[title]#markdown-toc:before,[title].note:before{content:attr(title) !important}.note{font-size:1rem}@media screen{body::before{content:"";width:.5rem;background:var(--gray-bg);position:fixed;left:0;top:0;bottom:0}}@media(min-width: 64em){body::before{width:21rem}}@media(min-width: 104rem){body::before{width:calc(50% - 31rem)}}@media screen and (min-width: 42em){html{font-size:var(--root-font-size-medium)}}@media screen and (min-width: 124em){html{font-size:var(--root-font-size-large)}}#breadcrumbs>ul{height:1rem;margin:-1.5rem 0 .5rem;padding:0;font-size:.667rem;color:var(--menu-text);text-transform:uppercase;width:100%;list-style:none}#breadcrumbs>ul>li{display:inline}#breadcrumbs>ul>li a{color:var(--gray);text-decoration:none;border-bottom:none}.fl{float:left}.fr{float:right}.mb4{margin-bottom:4rem}.mb6{margin-bottom:6rem}.mt0{margin-top:0}.mt1{margin-top:1rem}.mt2{margin-top:2rem}.mt3{margin-top:3rem}.mt4{margin-top:4rem}.pb0{padding-bottom:0}.ml1{margin-left:1rem}.mr1{margin-right:1rem}.sixteen-nine{position:relative}.sixteen-nine::before{display:block;content:"";width:100%;padding-top:56.25%}.sixteen-nine>*{position:absolute;top:0;left:0;right:0;bottom:0}.sixteen-ten{position:relative}.sixteen-ten::before{display:block;content:"";width:100%;padding-top:62.5%}.sixteen-ten>*{position:absolute;top:0;left:0;right:0;bottom:0}.four-three{position:relative}.four-three::before{display:block;content:"";width:100%;padding-top:75%}.four-three>*{position:absolute;top:0;left:0;right:0;bottom:0}.sr-only{display:none}.larger{font-size:larger}.smaller{font-size:smaller}.clearfix,.sidebar-social::after{content:"";display:table;clear:both}.ellipsis,#breadcrumbs>ul{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.border{border:1px solid var(--border-color)}@media(min-width: 42em){.border-radius,.lead,.page .aspect-ratio.sixteen-nine.lead{border-radius:.5rem}}.fallback-img{background-position:center;background-repeat:no-repeat;background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjkwIiB2aWV3Qm94PSIwIDAgMTYwIDkwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxnIHRyYW5zZm9ybT0ibWF0cml4KDAuMDQ4ODI4LCAwLCAwLCAwLjA0Nzk5MSwgNTQuOTk5OTczLCAyMC40MjgxNDgpIj4KICAgIDxwYXRoIHN0eWxlPSJmaWxsOnJnYmEoMTI4LDEyOCwxMjgsLjMzKSIgZD0iTTk1OS44ODQgMTI4YzAuMDQwIDAuMDM0IDAuMDgyIDAuMDc2IDAuMTE2IDAuMTE2djc2Ny43N2MtMC4wMzQgMC4wNDAtMC4wNzYgMC4wODItMC4xMTYgMC4xMTZoLTg5NS43N2MtMC4wNDAtMC4wMzQtMC4wODItMC4wNzYtMC4xMTQtMC4xMTZ2LTc2Ny43NzJjMC4wMzQtMC4wNDAgMC4wNzYtMC4wODIgMC4xMTQtMC4xMTRoODk1Ljc3ek05NjAgNjRoLTg5NmMtMzUuMiAwLTY0IDI4LjgtNjQgNjR2NzY4YzAgMzUuMiAyOC44IDY0IDY0IDY0aDg5NmMzNS4yIDAgNjQtMjguOCA2NC02NHYtNzY4YzAtMzUuMi0yOC44LTY0LTY0LTY0djB6Ii8+CiAgICA8cGF0aCBzdHlsZT0iZmlsbDpyZ2JhKDEyOCwxMjgsMTI4LC4zMykiIGQ9Ik04MzIgMjg4YzAgNTMuMDIwLTQyLjk4IDk2LTk2IDk2cy05Ni00Mi45OC05Ni05NiA0Mi45OC05NiA5Ni05NiA5NiA0Mi45OCA5NiA5NnoiLz4KICAgIDxwYXRoIHN0eWxlPSJmaWxsOnJnYmEoMTI4LDEyOCwxMjgsLjMzKSIgZD0iTTg5NiA4MzJoLTc2OHYtMTI4bDIyNC0zODQgMjU2IDMyMGg2NGwyMjQtMTkyeiIvPgogIDwvZz4KPC9zdmc+")}hy-push-state a{color:var(--body-color)}@supports not ((text-decoration-thickness: initial) and (text-underline-offset: initial)){hy-push-state a{text-decoration:none;border-bottom:2px solid}}@supports(text-decoration-thickness: initial) and (text-underline-offset: initial){hy-push-state a{text-decoration-style:solid;text-underline-offset:.35rem;text-decoration-thickness:2px}}hy-push-state a.no-hover{border-bottom:none;text-decoration-thickness:unset;text-underline-offset:unset}@supports(text-decoration-thickness: initial) and (text-underline-offset: initial){.content a:not(.btn):not(.no-hover){text-decoration-color:var(--accent-color-faded)}}.content a:not(.btn):not(.no-hover){border-color:var(--accent-color-faded)}.content .aspect-ratio{overflow:hidden}.content .aspect-ratio img{margin:0;width:100%;height:100%;background-color:var(--gray-bg)}hy-drawer{width:100%;position:relative;overflow:hidden;display:block;z-index:4}@media screen and (min-width: 64em){hy-drawer{position:fixed;width:21rem;top:0;left:0;bottom:0;margin-left:0}hy-drawer.cover{position:relative;width:100%}}@media screen and (min-width: 104rem){hy-drawer{width:calc(50% - 31rem)}}.sidebar{position:relative;display:flex;justify-content:center;align-items:center;color:rgba(255,255,255,.75);text-align:center;min-height:100vh}.sidebar.invert{color:rgba(32,32,32,.75)}.sidebar a{color:#fff;border-bottom-color:rgba(255,255,255,.2);text-decoration-color:rgba(255,255,255,.2)}.sidebar.invert a{color:#222;border-bottom-color:rgba(32,32,32,.2);text-decoration-color:rgba(32,32,32,.2)}.sidebar-bg{position:absolute;top:0;left:calc(50% - 50vw);width:100vw;height:100%;background:#202020 center/cover}.sidebar-bg::after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,.05)}.sidebar-bg.sidebar-overlay::after{background:linear-gradient(to bottom, rgba(32, 32, 32, 0) 0%, rgba(32, 32, 32, 0.5) 50%, rgba(32, 32, 32, 0) 100%)}.sidebar-sticky{position:relative;z-index:3;max-width:21rem;padding:1.5rem;contain:content}.sidebar-about .avatar{margin-bottom:1.5rem}.sidebar-about>a.sidebar-title{text-decoration:none}.sidebar-about>a.sidebar-title>h2{margin:0;padding-bottom:.5rem}.sidebar-about>a.sidebar-title::after{content:"";display:block;border-bottom:2px solid;margin:0 auto .5rem;width:4rem;border-color:rgba(255,255,255,.2);transition:border-color 250ms}.sidebar-about>a.sidebar-title:hover::after{border-color:#fff;transition:border-color 50ms}.sidebar.invert .sidebar-about>a.sidebar-title::after{border-color:rgba(32,32,32,.2)}.sidebar.invert .sidebar-about>a.sidebar-title:hover::after{border-color:#222}.sidebar-nav>ul{list-style:none;padding-left:0}.sidebar-nav-item{display:inline-block;margin-bottom:.5rem}@media(min-width: 64em){#_main.no-drawer #_menu{display:none}#_main.no-drawer .nav-btn-bar>:nth-child(2){border:none}}.sidebar-social>ul{display:inline-block;list-style:none;padding-left:0;margin-bottom:0}.sidebar-social>ul>li{float:left}.sidebar-social>ul>li>a{display:inline-block;text-align:center;font-size:1.4rem;width:3rem;height:4rem;padding:.5rem 0;line-height:3rem;text-decoration:none;border-bottom-width:2px;border-bottom-style:solid}.sidebar-social>ul li+li{margin-top:0}.fixed-common,.fixed-bottom,.fixed-top{position:fixed;left:0;width:100%;z-index:2}.fixed-top{top:0}.fixed-bottom{bottom:0}.navbar>.content{position:relative;padding-top:0;padding-bottom:0;min-height:0;max-height:5rem}.nav-btn-bar{margin:0 -1rem;background-color:#fff;background-color:var(--body-bg);height:5rem;display:flex;align-items:center;position:relative}.nav-btn-bar>:first-child,.nav-btn-bar>:last-child{border:none}.nav-btn{background:none;border:none;text-decoration:none;display:flex;align-items:center;justify-content:center;width:3.25rem;height:5rem;color:var(--menu-text);border-right:1px solid var(--border-color);border-left:1px solid var(--border-color);margin-left:-1px}#markdown-toc{margin:2rem -1rem 2rem calc(-1rem + 1px);padding-left:2.5rem;padding-bottom:.5rem}#markdown-toc:before{left:1rem}@media screen and (min-width: 104rem){body:not(.no-toc) #markdown-toc{position:absolute;z-index:4;width:20.5rem;right:0;margin:auto;overflow:auto}}@media screen and (min-width: 104rem){body.no-break-layout:not(.no-toc) #markdown-toc{width:calc(50% - 31rem)}}.content{margin-left:auto;margin-right:auto;padding:8rem 1rem 12rem}@media screen{.content{padding-left:1.5rem;min-height:100vh}}@media screen and (min-width: 42em){.content{max-width:42rem}}@media screen and (min-width: 54em){.content{max-width:48rem}}@media screen and (min-width: 64em){.content{padding-left:1rem;margin-left:24rem;margin-right:3rem}}@media screen and (min-width: 86em){.content{padding-top:9rem;margin-left:25rem;margin-right:4rem;max-width:54rem}}@media screen and (min-width: 104rem){.content{margin:auto}}.large-only{display:none}@media screen and (min-width: 104rem){.large-only{display:block}}.avatar{width:7rem;height:7rem;border-radius:100%;overflow:hidden;display:inline-block}.avatar img{width:100%}.content .avatar{float:right;box-sizing:content-box;border:1rem solid var(--body-bg);transition:border-color 1s ease;margin-top:-1.5rem;margin-right:-1rem}.note:before{content:"Note"}.page>header>.note-sm:before,.page>header>.note:before,.page>header>#markdown-toc:before{content:"Description"}#markdown-toc:before{content:"Table of Contents"}.layout-resume .note-sm:before,.layout-resume .note:before,.layout-resume #markdown-toc:before{content:"Summary"}</style><link rel="preload" as="style" href="/assets/css/hydejack-9.2.1.css" id="_stylePreload"><link rel="preload" as="style" href="/assets/icomoon/style.css" id="_iconsPreload"><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans:400,400i,700,700i&display=swap" id="_fontsPreload"> <script> setRel('_stylePreload'); setRel('_iconsPreload'); /**/setRel('_fontsPreload');/**/ </script> <noscript><link rel="stylesheet" href="/assets/css/hydejack-9.2.1.css"><link rel="stylesheet" href="/assets/icomoon/style.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans:400,400i,700,700i&display=swap"> </noscript><style id="_pageStyle"> html{--accent-color: rgb(79,177,186);--accent-color-faded: rgba(79, 177, 186, 0.5);--accent-color-highlight: rgba(79, 177, 186, 0.1);--accent-color-darkened: #409ba3;--theme-color: rgb(8,46,57);--dark-mode-body-bg: hsl(193.4693877551, 9.4230769231%, 17.5%);--dark-mode-border-color: hsl(193.4693877551, 9.4230769231%, 22.5%)}</style><!--<![endif]--><body class="no-break-layout"> <hy-push-state id="_pushState" replace-selector="#_main" link-selector="a[href]:not([href^='/assets/']):not(.external):not(.no-push-state)" script-selector="script" duration="500" hashchange > <hy-drawer id="_drawer" class="cover" side="left" threshold="10" noscroll opened ><header id="_sidebar" class="sidebar" role="banner"><div class="sidebar-bg sidebar-overlay" style="background-color:rgb(8,46,57);background-image:url(/assets/img/sidebar-bg.gif)"></div><div class="sidebar-sticky"><div class="sidebar-about"> <a class="no-hover" href="/" tabindex="-1"> <img src="/assets/img/logo.png" class="avatar" alt="Darren" width="120" height="120" loading="lazy" /> </a> <a class="sidebar-title" href="/"><h2 class="h1">Darren</h2></a><p class=""> A blog, portfolio, and resume.</div><nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span><ul><li> <a id="_drawer--opened" href="/blog/" class="sidebar-nav-item " > Blog </a><li> <a href="/projects/" class="sidebar-nav-item " > Showcase </a><li> <a href="/about/" class="sidebar-nav-item " > About Me </a><li> <a href="/resume/" class="sidebar-nav-item " > Resume </a></ul></nav><div class="sidebar-social"> <span class="sr-only">Social:</span><ul><li> <a href="https://gitlab.com/darrentu88" title="GitHub" class="no-mark-external"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a><li> <a href="mailto:darrentu8@gmail.com" title="Email" class="no-mark-external"> <span class="icon-mail"></span> <span class="sr-only">Email</span> </a><li> <a href="https://www.instagram.com/tu_d/" title="Instagram" class="no-mark-external"> <span class="icon-instagram"></span> <span class="sr-only">Instagram</span> </a></ul></div></div></header></hy-drawer><hr class="sr-only" hidden /><div id="_navbar" class="navbar fixed-top"><div class="content"> <span class="sr-only">Jump to:</span><div class="nav-btn-bar"> <a id="_menu" class="nav-btn no-hover" href="#_drawer--opened"> <span class="sr-only">Navigation</span> <span class="icon-menu"></span> </a><div class="nav-span"></div></div></div></div><hr class="sr-only" hidden /><main id="_main" class="content layout-blog" role="main" ><nav id="breadcrumbs" class="screen-only"><ul><li><a href="/">home</a><li> <span>/</span> <span>2</span></ul></nav><article id="post-blog-blog-vue3&Quasar-1" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2023-02-02-blog-vue3&Quasar-1/" class="flip-title"> Quasar 與 Vue 3 中的進階應用技巧 </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2023-02-02T00:00:00+08:00">02 Feb 2023</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2024-09-14T22:31:29+08:00">2024-09-14</time> </span></div><a href="/blog/2023-02-02-blog-vue3&Quasar-1/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://cdn.quasar.dev/logo-v2/svg/logo.svg" alt="Quasar 與 Vue 3 中的進階應用技巧" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#前言" id="markdown-toc-前言">前言</a><li><a href="#quasar-基礎回顧" id="markdown-toc-quasar-基礎回顧">Quasar 基礎回顧</a><li><a href="#進階應用技巧" id="markdown-toc-進階應用技巧">進階應用技巧</a><ol><li><a href="#1-使用-quasar-插件" id="markdown-toc-1-使用-quasar-插件">1. 使用 Quasar 插件</a><li><a href="#2-自定義主題" id="markdown-toc-2-自定義主題">2. 自定義主題</a><li><a href="#3-使用-quasar-cli" id="markdown-toc-3-使用-quasar-cli">3. 使用 Quasar CLI</a><li><a href="#4-利用-quasar-的響應式工具" id="markdown-toc-4-利用-quasar-的響應式工具">4. 利用 Quasar 的響應式工具</a><li><a href="#5-使用-quasar-的-ssr-功能" id="markdown-toc-5-使用-quasar-的-ssr-功能">5. 使用 Quasar 的 SSR 功能</a><li><a href="#6-集成-quasar-與-pinia" id="markdown-toc-6-集成-quasar-與-pinia">6. 集成 Quasar 與 Pinia</a><li><a href="#7-使用-quasar-的-app-extensions" id="markdown-toc-7-使用-quasar-的-app-extensions">7. 使用 Quasar 的 App Extensions</a></ol><li><a href="#總結" id="markdown-toc-總結">總結</a><li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></ol><h2 id="前言">前言</h2><p>Quasar 是一個基於 Vue 3 的強大 UI 框架,提供了豐富的組件和工具,可以快速構建高質量的跨平台應用。本文將深入探討 Quasar 在 Vue 3 中的進階應用技巧,幫助開發者更好地利用 Quasar 框架的特性。<h2 id="quasar-基礎回顧">Quasar 基礎回顧</h2><p>在深入探討進階技巧之前,讓我們簡單回顧一下 Quasar 的基本用法:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">q</span><span class="o">-</span><span class="nx">page</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex flex-center</span><span class="dl">"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">q</span><span class="o">-</span><span class="nx">btn</span> <span class="nx">color</span><span class="o">=</span><span class="dl">"</span><span class="s2">primary</span><span class="dl">"</span> <span class="nx">label</span><span class="o">=</span><span class="dl">"</span><span class="s2">Click me</span><span class="dl">"</span> <span class="p">@</span><span class="nd">click</span><span class="o">=</span><span class="dl">"</span><span class="s2">counter++</span><span class="dl">"</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">You</span><span class="dl">'</span><span class="s1">ve clicked  times.&lt;/p&gt;
  &lt;/q-page&gt;
&lt;/template&gt;

&lt;script&gt;
import { ref } from </span><span class="dl">'</span><span class="nx">vue</span><span class="dl">'</span><span class="s1">

export default {
  setup() {
    const counter = ref(0)
    return { counter }
  }
}
&lt;/script&gt;
</span></code></pre></div></div><h2 id="進階應用技巧">進階應用技巧</h2><h3 id="1-使用-quasar-插件">1. 使用 Quasar 插件</h3><p>Quasar 提供了許多有用的插件,可以輕鬆集成到 Vue 3 應用中:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// quasar.conf.js</span>
<span class="k">return</span> <span class="p">{</span>
  <span class="na">framework</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">Notify</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Dialog</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 在組件中使用</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useQuasar</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">quasar</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">$q</span> <span class="o">=</span> <span class="nf">useQuasar</span><span class="p">()</span>
    
    <span class="kd">function</span> <span class="nf">showNotification</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">$q</span><span class="p">.</span><span class="nf">notify</span><span class="p">({</span>
        <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Hello!</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">positive</span><span class="dl">'</span>
      <span class="p">})</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">showNotification</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="2-自定義主題">2. 自定義主題</h3><p>Quasar 允許輕鬆自定義應用的主題:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// quasar.variables.scss</span>
<span class="nx">$primary</span>   <span class="p">:</span> <span class="err">#</span><span class="mi">1976</span><span class="nx">D2</span><span class="p">;</span>
<span class="nl">$secondary</span> <span class="p">:</span> <span class="err">#</span><span class="mi">26</span><span class="nx">A69A</span><span class="p">;</span>
<span class="nl">$accent</span>    <span class="p">:</span> <span class="err">#</span><span class="mi">9</span><span class="nx">C27B0</span><span class="p">;</span>

<span class="nl">$dark</span>      <span class="p">:</span> <span class="err">#</span><span class="mi">1</span><span class="nx">D1D1D</span><span class="p">;</span>

<span class="nl">$positive</span>  <span class="p">:</span> <span class="err">#</span><span class="mi">21</span><span class="nx">BA45</span><span class="p">;</span>
<span class="nl">$negative</span>  <span class="p">:</span> <span class="err">#</span><span class="nx">C10015</span><span class="p">;</span>
<span class="nl">$info</span>      <span class="p">:</span> <span class="err">#</span><span class="mi">31</span><span class="nx">CCEC</span><span class="p">;</span>
<span class="nl">$warning</span>   <span class="p">:</span> <span class="err">#</span><span class="nx">F2C037</span><span class="p">;</span>
</code></pre></div></div><h3 id="3-使用-quasar-cli">3. 使用 Quasar CLI</h3><p>Quasar CLI 提供了強大的開發工具:<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 創建新項目</span>
quasar create my-project

<span class="c"># 添加 PWA 支持</span>
quasar mode add pwa

<span class="c"># 運行開發服務器</span>
quasar dev

<span class="c"># 構建生產版本</span>
quasar build
</code></pre></div></div><h3 id="4-利用-quasar-的響應式工具">4. 利用 Quasar 的響應式工具</h3><p>Quasar 提供了豐富的響應式工具:<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;template&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"gt-sm"</span><span class="nt">&gt;</span>只在大屏幕上顯示<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"lt-md"</span><span class="nt">&gt;</span>只在小屏幕上顯示<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/template&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useQuasar</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">quasar</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">$q</span> <span class="o">=</span> <span class="nf">useQuasar</span><span class="p">()</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">$q</span><span class="p">.</span><span class="nx">screen</span><span class="p">.</span><span class="nx">gt</span><span class="p">.</span><span class="nx">sm</span><span class="p">)</span> <span class="c1">// 是否大於小屏幕</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div><h3 id="5-使用-quasar-的-ssr-功能">5. 使用 Quasar 的 SSR 功能</h3><p>Quasar 支持服務器端渲染 (SSR):<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// quasar.conf.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nf">function </span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="na">ssr</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">pwa</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="6-集成-quasar-與-pinia">6. 集成 Quasar 與 Pinia</h3><p>Quasar 可以與 Pinia 無縫集成:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/stores/counter.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useCounterStore</span> <span class="o">=</span> <span class="nf">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">counter</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">state</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="na">count</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">}),</span>
  <span class="na">actions</span><span class="p">:</span> <span class="p">{</span>
    <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// 在組件中使用</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useCounterStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">src/stores/counter</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">counterStore</span> <span class="o">=</span> <span class="nf">useCounterStore</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span> <span class="nx">counterStore</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="7-使用-quasar-的-app-extensions">7. 使用 Quasar 的 App Extensions</h3><p>Quasar App Extensions 可以擴展項目功能:<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 添加 Dotenv 擴展</span>
quasar ext add @quasar/dotenv

<span class="c"># 使用擴展</span>
import <span class="o">{</span> config <span class="o">}</span> from <span class="s1">'@quasar/dotenv'</span>
console.log<span class="o">(</span>config.MY_API_KEY<span class="o">)</span>
</code></pre></div></div><h2 id="總結">總結</h2><p>Quasar 在 Vue 3 中提供了強大而靈活的開發解決方案:<ol><li>豐富的 UI 組件和插件系統大大提高了開發效率。<li>自定義主題功能使得應用風格靈活可控。<li>Quasar CLI 提供了完整的開發工具鏈。<li>響應式設計工具使得跨平台開發變得簡單。<li>SSR 支持有助於提升應用性能和 SEO。<li>與 Pinia 等 Vue 生態系統的無縫集成。<li>App Extensions 系統允許進一步擴展功能。</ol><p>通過掌握這些進階技巧,開發者可以充分利用 Quasar 框架的優勢,構建高效、美觀、跨平台的 Vue 3 應用。<h2 id="參考資料">參考資料</h2><ul><li><a href="https://quasar.dev/">Quasar 官方文檔</a><li><a href="https://v3.vuejs.org/">Vue 3 文檔</a><li><a href="https://pinia.vuejs.org/">Pinia 文檔</a></ul><footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2023-02-02-blog-vue3&Quasar-1/">Quasar 與 Vue 3 中的進階應用技巧</a></footer></article><article id="post-blog-blog-vue3&Pinia" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2023-01-09-blog-vue3&Pinia/" class="flip-title"> Pinia 在 Vue 3 中的進階應用技巧 </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2023-01-09T00:00:00+08:00">09 Jan 2023</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2024-09-14T22:31:29+08:00">2024-09-14</time> </span></div><a href="/blog/2023-01-09-blog-vue3&Pinia/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://pinia.vuejs.org/logo.svg" alt="Pinia 在 Vue 3 中的進階應用技巧" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#前言" id="markdown-toc-前言">前言</a><li><a href="#pinia-基礎回顧" id="markdown-toc-pinia-基礎回顧">Pinia 基礎回顧</a><li><a href="#進階應用技巧" id="markdown-toc-進階應用技巧">進階應用技巧</a><ol><li><a href="#1-組合式函數與-pinia-結合" id="markdown-toc-1-組合式函數與-pinia-結合">1. 組合式函數與 Pinia 結合</a><li><a href="#2-訂閱-store-變化" id="markdown-toc-2-訂閱-store-變化">2. 訂閱 Store 變化</a><li><a href="#3-插件系統" id="markdown-toc-3-插件系統">3. 插件系統</a><li><a href="#4-持久化存儲" id="markdown-toc-4-持久化存儲">4. 持久化存儲</a><li><a href="#5-模塊化和命名空間" id="markdown-toc-5-模塊化和命名空間">5. 模塊化和命名空間</a><li><a href="#6-與-vue-router-集成" id="markdown-toc-6-與-vue-router-集成">6. 與 Vue Router 集成</a><li><a href="#7-測試友好" id="markdown-toc-7-測試友好">7. 測試友好</a></ol><li><a href="#總結" id="markdown-toc-總結">總結</a><li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></ol><h2 id="前言">前言</h2><p>Pinia 作為 Vue 3 的官方狀態管理庫,提供了簡潔、靈活且強大的 API。本文將深入探討 Pinia 在 Vue 3 中的進階應用技巧,幫助開發者更好地組織和管理應用狀態。<h2 id="pinia-基礎回顧">Pinia 基礎回顧</h2><p>在深入探討進階技巧之前,讓我們簡單回顧一下 Pinia 的基本用法:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useCounterStore</span> <span class="o">=</span> <span class="nf">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">counter</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">state</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span> 
    <span class="na">count</span><span class="p">:</span> <span class="mi">0</span> 
  <span class="p">}),</span>
  <span class="na">getters</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">doubleCount</span><span class="p">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">actions</span><span class="p">:</span> <span class="p">{</span>
    <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">})</span>
</code></pre></div></div><h2 id="進階應用技巧">進階應用技巧</h2><h3 id="1-組合式函數與-pinia-結合">1. 組合式函數與 Pinia 結合</h3><p>Pinia 可以與 Vue 3 的組合式函數(Composition API)完美結合,實現更靈活的狀態管理:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useCounterStore</span> <span class="o">=</span> <span class="nf">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">counter</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nf">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  <span class="kd">const</span> <span class="nx">doubleCount</span> <span class="o">=</span> <span class="nf">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
  
  <span class="kd">function</span> <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">doubleCount</span><span class="p">,</span> <span class="nx">increment</span> <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div><p>這種方式使得狀態邏輯更容易組織和重用。<h3 id="2-訂閱-store-變化">2. 訂閱 Store 變化</h3><p>Pinia 允許訂閱 store 的變化,這對於日誌記錄、持久化等場景非常有用:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">unsubscribe</span> <span class="o">=</span> <span class="nx">store</span><span class="p">.</span><span class="nf">$subscribe</span><span class="p">((</span><span class="nx">mutation</span><span class="p">,</span> <span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">mutation</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">mutation</span><span class="p">.</span><span class="nx">storeId</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">mutation</span><span class="p">.</span><span class="nx">payload</span><span class="p">)</span>
<span class="p">})</span>
<span class="c1">// 停止訂閱</span>
<span class="nf">unsubscribe</span><span class="p">()</span>
</code></pre></div></div><h3 id="3-插件系統">3. 插件系統</h3><p>Pinia 提供了強大的插件系統,可以擴展 store 的功能:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">createPinia</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nf">myPiniaPlugin</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="p">...</span><span class="nx">context</span><span class="p">,</span>
    <span class="nf">$reset</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// 自定義重置邏輯</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">pinia</span> <span class="o">=</span> <span class="nf">createPinia</span><span class="p">()</span>
<span class="nx">pinia</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="nx">myPiniaPlugin</span><span class="p">)</span>
</code></pre></div></div><h3 id="4-持久化存儲">4. 持久化存儲</h3><p>結合插件系統,我們可以輕鬆實現狀態的持久化存儲:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useUserStore</span> <span class="o">=</span> <span class="nf">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">state</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
  <span class="p">}),</span>
  <span class="na">persist</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">enabled</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">strategies</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="na">storage</span><span class="p">:</span> <span class="nx">localStorage</span><span class="p">,</span> <span class="na">paths</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">token</span><span class="dl">'</span><span class="p">]</span> <span class="p">},</span>
      <span class="p">{</span> <span class="na">storage</span><span class="p">:</span> <span class="nx">sessionStorage</span><span class="p">,</span> <span class="na">paths</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">]</span> <span class="p">},</span>
    <span class="p">],</span>
  <span class="p">},</span>
<span class="p">})</span>
</code></pre></div></div><h3 id="5-模塊化和命名空間">5. 模塊化和命名空間</h3><p>Pinia 原生支持模塊化,無需額外配置:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// stores/user.js</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">useUserStore</span> <span class="o">=</span> <span class="nf">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
<span class="c1">// stores/product.js</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">useProductStore</span> <span class="o">=</span> <span class="nf">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">product</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="p">...</span> <span class="p">})</span>
<span class="c1">// 使用</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useUserStore</span><span class="p">,</span> <span class="nx">useProductStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@/stores</span><span class="dl">'</span>
<span class="kd">const</span> <span class="nx">userStore</span> <span class="o">=</span> <span class="nf">useUserStore</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">productStore</span> <span class="o">=</span> <span class="nf">useProductStore</span><span class="p">()</span>
</code></pre></div></div><h3 id="6-與-vue-router-集成">6. 與 Vue Router 集成</h3><p>Pinia 可以與 Vue Router 無縫集成,實現基於路由的狀態管理:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">useRoute</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue-router</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">usePageStore</span> <span class="o">=</span> <span class="nf">defineStore</span><span class="p">(</span><span class="dl">'</span><span class="s1">page</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="kd">const</span> <span class="nx">route</span> <span class="o">=</span> <span class="nf">useRoute</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">pageTitle</span> <span class="o">=</span> <span class="nf">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">route</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">title</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">Default Title</span><span class="dl">'</span><span class="p">)</span>
<span class="k">return</span> <span class="p">{</span> <span class="nx">pageTitle</span> <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div><h3 id="7-測試友好">7. 測試友好</h3><p>Pinia 的設計使得單元測試變得簡單:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">setActivePinia</span><span class="p">,</span> <span class="nx">createPinia</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">pinia</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useCounterStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./counter</span><span class="dl">'</span>

<span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Counter Store</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">setActivePinia</span><span class="p">(</span><span class="nf">createPinia</span><span class="p">())</span>
  <span class="p">})</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">increments</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">useCounterStore</span><span class="p">()</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">count</span><span class="p">).</span><span class="nf">toBe</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="nx">store</span><span class="p">.</span><span class="nf">increment</span><span class="p">()</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">count</span><span class="p">).</span><span class="nf">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">})</span>
</code></pre></div></div><h2 id="總結">總結</h2><p>Pinia 在 Vue 3 中提供了強大而靈活的狀態管理解決方案:<ol><li>與組合式 API 的無縫集成使得狀態邏輯更易組織和重用。<li>訂閱機制和插件系統提供了強大的擴展能力。<li>原生支持模塊化,無需額外配置。<li>與 Vue Router 的集成使得基於路由的狀態管理變得簡單。<li>良好的測試支持有助於提高代碼質量。</ol><p>通過掌握這些進階技巧,開發者可以更好地利用 Pinia 來構建可維護、高性能的 Vue 3 應用。<h2 id="參考資料">參考資料</h2><ul><li><a href="https://pinia.vuejs.org/">Pinia 官方文檔</a><li><a href="https://v3.vuejs.org/">Vue 3 文檔</a><li><a href="https://router.vuejs.org/">Vue Router 文檔</a></ul><footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2023-01-09-blog-vue3&Pinia/">Pinia 在 Vue 3 中的進階應用技巧</a></footer></article><article id="post-blog-blog-vue3&React-2" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2022-07-20-blog-vue3&React-2/" class="flip-title"> Vue 3 與 React 16.8 進階技術比較 </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2022-07-20T00:00:00+08:00">20 Jul 2022</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2024-09-14T22:31:29+08:00">2024-09-14</time> </span></div><a href="/blog/2022-07-20-blog-vue3&React-2/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://media.licdn.com/dms/image/D5612AQG28-Q25BRGDA/article-cover_image-shrink_720_1280/0/1715091435390?e=2147483647&v=beta&t=a-ooQtZ5J4DThRJvSJpQjPG9x5czjYkUtGnwNfzeKRE" alt="Vue 3 與 React 16.8 進階技術比較" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#前言" id="markdown-toc-前言">前言</a><li><a href="#性能優化" id="markdown-toc-性能優化">性能優化</a><ol><li><a href="#vue-3" id="markdown-toc-vue-3">Vue 3</a><li><a href="#react-168" id="markdown-toc-react-168">React 16.8</a></ol><li><a href="#狀態管理" id="markdown-toc-狀態管理">狀態管理</a><ol><li><a href="#vue-3-1" id="markdown-toc-vue-3-1">Vue 3</a><li><a href="#react-168-1" id="markdown-toc-react-168-1">React 16.8</a></ol><li><a href="#代碼分割和懶加載" id="markdown-toc-代碼分割和懶加載">代碼分割和懶加載</a><ol><li><a href="#vue-3-2" id="markdown-toc-vue-3-2">Vue 3</a><li><a href="#react-168-2" id="markdown-toc-react-168-2">React 16.8</a></ol><li><a href="#服務端渲染-ssr" id="markdown-toc-服務端渲染-ssr">服務端渲染 (SSR)</a><ol><li><a href="#vue-3-3" id="markdown-toc-vue-3-3">Vue 3</a><li><a href="#react-168-3" id="markdown-toc-react-168-3">React 16.8</a></ol><li><a href="#總結" id="markdown-toc-總結">總結</a><li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></ol><h2 id="前言">前言</h2><p>Vue 3 和 React 16.8 都引入了革命性的新特性,大大提升了開發體驗和應用性能。本文將深入探討這兩個框架的進階特性,包括性能優化、狀態管理、代碼分割等方面,幫助開發者更全面地理解兩個框架的優勢和適用場景。<h2 id="性能優化">性能優化</h2><h3 id="vue-3">Vue 3</h3><ol><li><p>靜態樹提升 (Static Tree Hoisting): Vue 3 編譯器能夠檢測模板中的靜態內容,並將其提升到渲染函數之外,減少每次渲染時的計算量。<li><p>靜態屬性提升 (Static Props Hoisting): 對於靜態的綁定,Vue 3 會在編譯時直接生成靜態的 VNode,避免運行時的開銷。<li><p>基於 Proxy 的響應式系統: 相比 Vue 2 基於 Object.defineProperty 的實現,Vue 3 的 Proxy 實現提供了更好的性能和更少的限制。</ol><h3 id="react-168">React 16.8</h3><ol><li><p>並發模式 (Concurrent Mode): React 16.8 引入了實驗性的並發模式,允許 React 中斷長時間運行的渲染,優先處理更高優先級的更新。<li><p>懶加載和 Suspense: React.lazy() 和 Suspense 組件使得代碼分割和異步加載組件變得更加簡單。<li><p>記憶化 (Memoization): React.memo 和 useMemo Hook 可以幫助避免不必要的重渲染,提高性能。</ol><h2 id="狀態管理">狀態管理</h2><h3 id="vue-3-1">Vue 3</h3><ol><li><p>Composition API: 提供了更靈活的狀態管理方式,可以輕鬆地將邏輯抽取到可重用的函數中。<li><p>Provide/Inject: 用於跨組件層級傳遞數據,類似於 React 的 Context API。<li><p>Vuex 4: 專為 Vue 3 設計的狀態管理庫,支持 Composition API。</ol><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">provide</span><span class="p">,</span> <span class="nx">inject</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vuex</span><span class="dl">'</span>

<span class="c1">// 在根組件中</span>
<span class="nf">provide</span><span class="p">(</span><span class="dl">'</span><span class="s1">store</span><span class="dl">'</span><span class="p">,</span> <span class="nx">store</span><span class="p">)</span>

<span class="c1">// 在子組件中</span>
<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">inject</span><span class="p">(</span><span class="dl">'</span><span class="s1">store</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div><h3 id="react-168-1">React 16.8</h3><ol><li><p>Context API: 用於在組件樹中傳遞數據,無需顯式地通過 props 傳遞。<li><p>useReducer Hook: 提供了類似 Redux 的狀態管理方式,適用於複雜的狀態邏輯。<li><p>Redux Toolkit: 簡化了 Redux 的使用,提供了更好的開發體驗。</ol><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useContext</span><span class="p">,</span> <span class="nx">useReducer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">StateContext</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nf">createContext</span><span class="p">()</span>

<span class="kd">function</span> <span class="nf">reducer</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// 狀態更新邏輯</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">dispatch</span><span class="p">]</span> <span class="o">=</span> <span class="nf">useReducer</span><span class="p">(</span><span class="nx">reducer</span><span class="p">,</span> <span class="nx">initialState</span><span class="p">)</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">StateContext</span><span class="p">.</span><span class="nx">Provider</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span> <span class="nx">state</span><span class="p">,</span> <span class="nx">dispatch</span> <span class="p">}</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="cm">/* 子組件 */</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/StateContext.Provider</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="代碼分割和懶加載">代碼分割和懶加載</h2><h3 id="vue-3-2">Vue 3</h3><ol><li><p>異步組件: Vue 3 提供了 defineAsyncComponent 方法來創建異步組件。<li><p>動態導入: 結合 Webpack 的動態導入功能,可以實現路由級別的代碼分割。</ol><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">defineAsyncComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">AsyncComp</span> <span class="o">=</span> <span class="nf">defineAsyncComponent</span><span class="p">(()</span> <span class="o">=&gt;</span>
  <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./components/AsyncComponent.vue</span><span class="dl">'</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div><h3 id="react-168-2">React 16.8</h3><ol><li><p>React.lazy: 用於動態導入組件。<li><p>Suspense: 用於處理異步操作,如數據獲取或代碼分割。</ol><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Suspense</span><span class="p">,</span> <span class="nx">lazy</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">LazyComponent</span> <span class="o">=</span> <span class="nf">lazy</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./LazyComponent</span><span class="dl">'</span><span class="p">))</span>

<span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Suspense</span> <span class="nx">fallback</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;}</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">LazyComponent</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/Suspense</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="服務端渲染-ssr">服務端渲染 (SSR)</h2><h3 id="vue-3-3">Vue 3</h3><ol><li><p>改進的 SSR 架構: Vue 3 的 SSR 實現更加高效,支持流式渲染。<li><p>Nuxt.js 3: 基於 Vue 3 的服務端渲染框架,提供了豐富的功能和優化。</ol><h3 id="react-168-3">React 16.8</h3><ol><li><p>React Server Components: 一種新的組件類型,可以在服務器上渲染,減少客戶端的 JavaScript 負載。<li><p>Next.js: 流行的 React SSR 框架,提供了自動代碼分割、靜態生成等功能。</ol><h2 id="總結">總結</h2><p>Vue 3 和 React 16.8 都在性能優化、狀態管理和代碼組織方面做出了重大改進:<ol><li>Vue 3 的靜態樹提升和 Proxy 響應式系統提供了出色的性能,而 React 的並發模式為複雜應用提供了更好的用戶體驗。<li>兩個框架都提供了強大的狀態管理解決方案,Vue 3 的 Composition API 和 React 的 Hooks 使得狀態邏輯更容易組織和重用。<li>在代碼分割和懶加載方面,兩個框架都提供了簡單易用的 API。<li>服務端渲染方面,Vue 3 和 React 都有成熟的解決方案和持續的創新。</ol><p>選擇使用哪個框架仍然取決於項目需求、團隊經驗和個人偏好。深入理解這些進階特性將幫助開發者在不同場景下做出更明智的選擇,並充分發揮所選框架的潛力。<h2 id="參考資料">參考資料</h2><ul><li><a href="https://v3.vuejs.org/guide/optimizations.html">Vue 3 性能優化</a><li><a href="https://reactjs.org/docs/concurrent-mode-intro.html">React 並發模式</a><li><a href="https://v3.vuejs.org/guide/ssr.html">Vue 3 SSR 指南</a><li><a href="https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html">React Server Components</a></ul><footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2022-07-20-blog-vue3&React-2/">Vue 3 與 React 16.8 進階技術比較</a></footer></article><article id="post-blog-blog-vue3&React" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2022-07-02-blog-vue3&React/" class="flip-title"> Vue 3 與 React 16.8 基本技術比較 </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2022-07-02T00:00:00+08:00">02 Jul 2022</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2024-09-14T22:31:29+08:00">2024-09-14</time> </span></div><a href="/blog/2022-07-02-blog-vue3&React/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://media.licdn.com/dms/image/D5612AQG28-Q25BRGDA/article-cover_image-shrink_720_1280/0/1715091435390?e=2147483647&v=beta&t=a-ooQtZ5J4DThRJvSJpQjPG9x5czjYkUtGnwNfzeKRE" alt="Vue 3 與 React 16.8 基本技術比較" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#前言" id="markdown-toc-前言">前言</a><li><a href="#組件定義" id="markdown-toc-組件定義">組件定義</a><ol><li><a href="#vue-3" id="markdown-toc-vue-3">Vue 3</a><li><a href="#react-168" id="markdown-toc-react-168">React 16.8</a></ol><li><a href="#響應式系統" id="markdown-toc-響應式系統">響應式系統</a><ol><li><a href="#vue-3-1" id="markdown-toc-vue-3-1">Vue 3</a><li><a href="#react-168-1" id="markdown-toc-react-168-1">React 16.8</a></ol><li><a href="#生命週期" id="markdown-toc-生命週期">生命週期</a><ol><li><a href="#vue-3-2" id="markdown-toc-vue-3-2">Vue 3</a><li><a href="#react-168-2" id="markdown-toc-react-168-2">React 16.8</a></ol><li><a href="#條件渲染" id="markdown-toc-條件渲染">條件渲染</a><ol><li><a href="#vue-3-3" id="markdown-toc-vue-3-3">Vue 3</a><li><a href="#react-168-3" id="markdown-toc-react-168-3">React 16.8</a></ol><li><a href="#列表渲染" id="markdown-toc-列表渲染">列表渲染</a><ol><li><a href="#vue-3-4" id="markdown-toc-vue-3-4">Vue 3</a><li><a href="#react-168-4" id="markdown-toc-react-168-4">React 16.8</a></ol><li><a href="#總結" id="markdown-toc-總結">總結</a><li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></ol><h2 id="前言">前言</h2><p>Vue 3和React 16.8都是在2020年前後推出的重要版本,它們都引入了新的特性來改善開發體驗。本文將從幾個關鍵方面比較Vue 3和React 16.8的基本技術,幫助開發者更好地理解這兩個框架的異同。<h2 id="組件定義">組件定義</h2><h3 id="vue-3">Vue 3</h3><p>Vue 3引入了組合式API,同時保留了選項式API:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nf">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="kd">const</span> <span class="nx">increment</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">increment</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="react-168">React 16.8</h3><p>React 16.8引入了Hooks,使函數組件能夠使用狀態和其他React特性:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nf">Counter</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nf">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  
  <span class="kd">const</span> <span class="nx">increment</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">}</span>
  
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">increment</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">增加</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="響應式系統">響應式系統</h2><h3 id="vue-3-1">Vue 3</h3><p>Vue 3使用Proxy實現響應式系統,提供了ref和reactive兩個主要API:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">reactive</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nf">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nf">reactive</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Vue</span><span class="dl">'</span> <span class="p">})</span>
</code></pre></div></div><h3 id="react-168-1">React 16.8</h3><p>React 16.8通過useState和useReducer管理狀態:<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nf">Example</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nf">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">setState</span><span class="p">]</span> <span class="o">=</span> <span class="nf">useState</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">React</span><span class="dl">'</span> <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="生命週期">生命週期</h2><h3 id="vue-3-2">Vue 3</h3><p>Vue 3提供了一系列組合式API的生命週期鉤子:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">onMounted</span><span class="p">,</span> <span class="nx">onUpdated</span><span class="p">,</span> <span class="nx">onUnmounted</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">onMounted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">組件已掛載</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="nf">onUpdated</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">組件已更新</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="nf">onUnmounted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">組件已卸載</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="react-168-2">React 16.8</h3><p>React 16.8使用useEffect Hook模擬生命週期:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nf">Example</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">組件已掛載</span><span class="dl">'</span><span class="p">)</span>
    <span class="k">return </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">組件將卸載</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[])</span>
  
  <span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">組件已更新</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="條件渲染">條件渲染</h2><h3 id="vue-3-3">Vue 3</h3><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">v</span><span class="o">-</span><span class="k">if</span><span class="o">=</span><span class="dl">"</span><span class="s2">show</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">顯示內容</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">v</span><span class="o">-</span><span class="k">else</span><span class="o">&gt;</span><span class="nx">隱藏內容</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span></code></pre></div></div><h3 id="react-168-3">React 16.8</h3><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">Example</span><span class="p">({</span> <span class="nx">show</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;&gt;</span>
      <span class="p">{</span><span class="nx">show</span> <span class="p">?</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">顯示內容</span><span class="o">&lt;</span><span class="sr">/div&gt; : &lt;div&gt;隱藏內容&lt;/</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="列表渲染">列表渲染</h2><h3 id="vue-3-4">Vue 3</h3><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">v</span><span class="o">-</span><span class="k">for</span><span class="o">=</span><span class="dl">"</span><span class="s2">item in items</span><span class="dl">"</span> <span class="p">:</span><span class="nx">key</span><span class="o">=</span><span class="dl">"</span><span class="s2">item.id</span><span class="dl">"</span><span class="o">&gt;</span>
      
    <span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span></code></pre></div></div><h3 id="react-168-4">React 16.8</h3><div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">List</span><span class="p">({</span> <span class="nx">items</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="nx">items</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">id</span><span class="si">}</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">))</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="總結">總結</h2><p>Vue 3和React 16.8都引入了重要的新特性,使得組件開發更加靈活和高效:<ol><li>Vue 3引入組合式API,React 16.8引入Hooks,兩者都旨在提供更好的代碼組織和重用。<li>Vue 3的響應式系統更加直觀,而React 16.8的狀態管理需要顯式調用。<li>Vue 3保留了模板語法,React繼續使用JSX。<li>兩者都提供了類似的生命週期管理方式,但實現方式不同。</ol><p>選擇使用哪個框架取決於項目需求、團隊熟悉度和個人偏好。兩個框架都在不斷evolve,深入學習和實踐都能讓你成為出色的前端開發者。<h2 id="參考資料">參考資料</h2><ul><li><a href="https://v3.vuejs.org/">Vue 3 官方文檔</a><li><a href="https://reactjs.org/blog/2019/02/06/react-v16.8.0.html">React 16.8 官方文檔</a></ul><footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2022-07-02-blog-vue3&React/">Vue 3 與 React 16.8 基本技術比較</a></footer></article><article id="post-blog-blog-vue3-2" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2022-06-25-blog-vue3-2/" class="flip-title"> Vue 3 進階技巧與最佳實踐 </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2022-06-25T00:00:00+08:00">25 Jun 2022</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2024-09-14T22:31:29+08:00">2024-09-14</time> </span></div><a href="/blog/2022-06-25-blog-vue3-2/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://vuejs.org/images/logo.png" alt="Vue 3 進階技巧與最佳實踐" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#前言" id="markdown-toc-前言">前言</a><li><a href="#響應式系統的深入理解" id="markdown-toc-響應式系統的深入理解">響應式系統的深入理解</a><ol><li><a href="#ref-vs-reactive" id="markdown-toc-ref-vs-reactive">ref vs. reactive</a><li><a href="#toref-和-torefs" id="markdown-toc-toref-和-torefs">toRef 和 toRefs</a></ol><li><a href="#組合式函數composables" id="markdown-toc-組合式函數composables">組合式函數(Composables)</a><li><a href="#異步組件和懶加載" id="markdown-toc-異步組件和懶加載">異步組件和懶加載</a><li><a href="#自定義指令的新寫法" id="markdown-toc-自定義指令的新寫法">自定義指令的新寫法</a><li><a href="#更好的typescript集成" id="markdown-toc-更好的typescript集成">更好的TypeScript集成</a><li><a href="#總結" id="markdown-toc-總結">總結</a><li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></ol><h2 id="前言">前言</h2><p>在上一篇文章中,我們介紹了Vue 3的基本特性和使用心得。這次,我們將深入探討一些Vue 3的進階技巧和最佳實踐,幫助你更好地利用Vue 3的強大功能。<h2 id="響應式系統的深入理解">響應式系統的深入理解</h2><h3 id="ref-vs-reactive">ref vs. reactive</h3><p>在Vue 3中,我們有兩種主要的方式來創建響應式數據:ref和reactive。讓我們深入了解它們的區別和使用場景:<ol><li>ref適用於基本類型數據,reactive適用於對象類型數據。<li>ref需要通過.value訪問,而reactive可以直接訪問屬性。<li>ref在模板中使用時會自動解包。</ol><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">reactive</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nf">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nf">reactive</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Vue 3</span><span class="dl">'</span><span class="p">,</span> <span class="na">version</span><span class="p">:</span> <span class="mi">3</span> <span class="p">})</span>

<span class="c1">// 使用</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="c1">// 0</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span> <span class="c1">// 'Vue 3'</span>
</code></pre></div></div><h3 id="toref-和-torefs">toRef 和 toRefs</h3><p>這兩個工具函數可以幫助我們在不丟失響應性的情況下解構reactive對象:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">reactive</span><span class="p">,</span> <span class="nx">toRef</span><span class="p">,</span> <span class="nx">toRefs</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nf">reactive</span><span class="p">({</span> <span class="na">count</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Vue</span><span class="dl">'</span> <span class="p">})</span>

<span class="c1">// 單個屬性</span>
<span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nf">toRef</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="dl">'</span><span class="s1">count</span><span class="dl">'</span><span class="p">)</span>

<span class="c1">// 多個屬性</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">name</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">toRefs</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span>
</code></pre></div></div><h2 id="組合式函數composables">組合式函數(Composables)</h2><p>組合式函數是Vue 3中重用邏輯的主要方式。以下是一些最佳實踐:<ol><li>使用use前綴命名組合式函數。<li>返回一個包含響應式數據和方法的對象。<li>在setup函數中調用組合式函數。</ol><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// useCounter.js</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nf">useCounter</span><span class="p">(</span><span class="nx">initialValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nf">ref</span><span class="p">(</span><span class="nx">initialValue</span><span class="p">)</span>
  
  <span class="kd">function</span> <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">increment</span> <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 使用</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useCounter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./useCounter</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">increment</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">useCounter</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">increment</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="異步組件和懶加載">異步組件和懶加載</h2><p>Vue 3提供了更簡單的方式來定義異步組件,這對於大型應用的性能優化非常有用:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">defineAsyncComponent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">AsyncComponent</span> <span class="o">=</span> <span class="nf">defineAsyncComponent</span><span class="p">(()</span> <span class="o">=&gt;</span>
  <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./components/AsyncComponent.vue</span><span class="dl">'</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div><h2 id="自定義指令的新寫法">自定義指令的新寫法</h2><p>Vue 3中自定義指令的API有所變化,更接近組件的生命週期:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">myDirective</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nf">mounted</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">binding</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 元素被插入到DOM時</span>
  <span class="p">},</span>
  <span class="nf">updated</span><span class="p">(</span><span class="nx">el</span><span class="p">,</span> <span class="nx">binding</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 元素更新時</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 使用</span>
<span class="nx">app</span><span class="p">.</span><span class="nf">directive</span><span class="p">(</span><span class="dl">'</span><span class="s1">my-directive</span><span class="dl">'</span><span class="p">,</span> <span class="nx">myDirective</span><span class="p">)</span>
</code></pre></div></div><h2 id="更好的typescript集成">更好的TypeScript集成</h2><p>Vue 3對TypeScript的支持更加友好。以下是一些技巧:<ol><li>使用defineComponent來獲得更好的類型推斷。<li>為props和emits定義類型。<li>使用泛型來增強組合式函數的類型安全。</ol><div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">defineComponent</span><span class="p">,</span> <span class="nx">PropType</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="kr">interface</span> <span class="nx">User</span> <span class="p">{</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span>
  <span class="nx">age</span><span class="p">:</span> <span class="kr">number</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nf">defineComponent</span><span class="p">({</span>
  <span class="na">props</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">user</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">type</span><span class="p">:</span> <span class="nb">Object</span> <span class="kd">as </span><span class="nx">PropType</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span><span class="p">,</span>
      <span class="na">required</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">emits</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">'</span><span class="s1">update</span><span class="dl">'</span><span class="p">:</span> <span class="p">(</span><span class="na">value</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="nf">setup</span><span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="p">{</span> <span class="nx">emit</span> <span class="p">})</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div><h2 id="總結">總結</h2><p>Vue 3為我們提供了許多強大的工具和API,讓我們能夠構建更加靈活、高效的應用。通過深入理解這些進階技巧,我們可以充分發揮Vue 3的潛力,寫出更加優雅和可維護的代碼。<p>希望這些技巧能夠幫助你在Vue 3的開發之路上走得更遠!<h2 id="參考資料">參考資料</h2><ul><li><a href="https://v3.vuejs.org/guide/composition-api-introduction.html">Vue 3 組合式API指南</a><li><a href="https://v3.vuejs.org/guide/typescript-support.html">Vue 3 TypeScript支持</a></ul><footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2022-06-25-blog-vue3-2/">Vue 3 進階技巧與最佳實踐</a></footer></article><article id="post-blog-blog-vue3-1" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2022-06-08-blog-vue3-1/" class="flip-title"> Vue 3 使用心得與秘訣分享 </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2022-06-08T00:00:00+08:00">08 Jun 2022</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2024-09-14T22:31:29+08:00">2024-09-14</time> </span></div><a href="/blog/2022-06-08-blog-vue3-1/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://vuejs.org/images/logo.png" alt="Vue 3 使用心得與秘訣分享" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#前言" id="markdown-toc-前言">前言</a><ol><li><a href="#composition-api-更靈活的代碼組織方式" id="markdown-toc-composition-api-更靈活的代碼組織方式">Composition API: 更靈活的代碼組織方式</a><li><a href="#更快的性能" id="markdown-toc-更快的性能">更快的性能</a><li><a href="#teleport組件-靈活控制dom結構" id="markdown-toc-teleport組件-靈活控制dom結構">Teleport組件: 靈活控制DOM結構</a><li><a href="#多根節點組件" id="markdown-toc-多根節點組件">多根節點組件</a><li><a href="#更好的typescript支持" id="markdown-toc-更好的typescript支持">更好的TypeScript支持</a></ol><li><a href="#總結" id="markdown-toc-總結">總結</a><li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></ol><h2 id="前言">前言</h2><p>最近我開始使用Vue 3進行開發,發現它相比Vue 2有許多令人興奮的新特性。在這篇文章中,我想分享一些我使用Vue 3的心得與秘訣,希望能對你有所幫助。<h3 id="composition-api-更靈活的代碼組織方式">Composition API: 更靈活的代碼組織方式</h3><p>Vue 3最大的變化之一就是引入了Composition API。這為我們提供了一種新的方式來組織組件邏輯。以下是我的一些使用心得:<ol><li>將相關的邏輯集中在一起,提高了代碼的可讀性。<li>更容易重用邏輯,可以將常用功能抽取成獨立的組合式函數。<li>對TypeScript的支持更好,類型推斷更準確。</ol><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span><span class="p">,</span> <span class="nx">onMounted</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vue</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nf">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="kd">const</span> <span class="nx">doubleCount</span> <span class="o">=</span> <span class="nf">computed</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">count</span><span class="p">.</span><span class="nx">value</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
    
    <span class="kd">function</span> <span class="nf">increment</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="o">++</span>
    <span class="p">}</span>
    
    <span class="nf">onMounted</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">組件已掛載</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">})</span>

    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">count</span><span class="p">,</span>
      <span class="nx">doubleCount</span><span class="p">,</span>
      <span class="nx">increment</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="更快的性能">更快的性能</h3><p>Vue 3在性能方面有了顯著提升,這讓我在開發大型應用時感受明顯:<ol><li>虛擬DOM重寫,渲染速度更快。<li>更高效的組件初始化。<li>更好的Tree-shaking支持,打包體積更小。</ol><h3 id="teleport組件-靈活控制dom結構">Teleport組件: 靈活控制DOM結構</h3><p>Teleport組件讓我可以將子組件渲染到DOM樹的任何位置,這在處理模態框、彈出提示等場景非常有用:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//html</span>
<span class="o">&lt;</span><span class="nx">teleport</span> <span class="nx">to</span><span class="o">=</span><span class="dl">"</span><span class="s2">body</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">modal</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="c">&lt;!--</span> <span class="nx">模態框內容</span> <span class="o">--&gt;</span>
<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/teleport</span><span class="err">&gt;
</span></code></pre></div></div><h3 id="多根節點組件">多根節點組件</h3><p>Vue 3允許組件模板有多個根節點,這讓模板結構更加靈活:<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//html</span>
<span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">header</span><span class="o">&gt;</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/header</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">main</span><span class="o">&gt;</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/main</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">footer</span><span class="o">&gt;</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/footer</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/template</span><span class="err">&gt;
</span></code></pre></div></div><h3 id="更好的typescript支持">更好的TypeScript支持</h3><p>作為一個TypeScript愛好者,我非常喜歡Vue 3對TypeScript的改進:<ol><li>更準確的類型推斷。<li>更好的IDE支持,代碼提示更智能。<li>可以為props、emits等選項提供類型定義。</ol><h2 id="總結">總結</h2><p>Vue 3為我們帶來了許多激動人心的新特性,讓開發體驗更加愉悅。雖然學習新的API需要一些時間,但我認為這絕對值得。如果你還沒有嘗試Vue 3,我強烈建議你開始使用它,相信你會和我一樣愛上它的!<h2 id="參考資料">參考資料</h2><ul><li><a href="https://v3.vuejs.org/">Vue 3 官方文檔</a><li><a href="https://v3.vuejs.org/guide/composition-api-introduction.html">Vue 3 Composition API</a></ul><footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2022-06-08-blog-vue3-1/">Vue 3 使用心得與秘訣分享</a></footer></article><article id="post-blog-blog-vue2vsVue3-2" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2022-04-07-blog-vue2vsVue3-2/" class="flip-title"> Vue 2 vs Vue 3 深入技術比較與開發實踐 </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2022-04-07T00:00:00+08:00">07 Apr 2022</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2024-09-14T22:31:29+08:00">2024-09-14</time> </span></div><a href="/blog/2022-04-07-blog-vue2vsVue3-2/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://vuejs.org/images/logo.png" alt="Vue 2 vs Vue 3 深入技術比較與開發實踐" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#引言" id="markdown-toc-引言">引言</a><li><a href="#核心架構變化" id="markdown-toc-核心架構變化">核心架構變化</a><ol><li><a href="#1-響應式系統" id="markdown-toc-1-響應式系統">1. 響應式系統</a><li><a href="#2-虛擬dom算法" id="markdown-toc-2-虛擬dom算法">2. 虛擬DOM算法</a></ol><li><a href="#開發體驗改進" id="markdown-toc-開發體驗改進">開發體驗改進</a><ol><li><a href="#1-composition-api-vs-options-api" id="markdown-toc-1-composition-api-vs-options-api">1. Composition API vs Options API</a><li><a href="#2-生命週期鉤子" id="markdown-toc-2-生命週期鉤子">2. 生命週期鉤子</a><li><a href="#3-異步組件" id="markdown-toc-3-異步組件">3. 異步組件</a></ol><li><a href="#性能優化" id="markdown-toc-性能優化">性能優化</a><ol><li><a href="#1-樹搖優化" id="markdown-toc-1-樹搖優化">1. 樹搖優化</a><li><a href="#2-編譯優化" id="markdown-toc-2-編譯優化">2. 編譯優化</a></ol><li><a href="#新特性深入解析" id="markdown-toc-新特性深入解析">新特性深入解析</a><ol><li><a href="#1-teleport" id="markdown-toc-1-teleport">1. Teleport</a><li><a href="#2-fragments" id="markdown-toc-2-fragments">2. Fragments</a><li><a href="#3-suspense" id="markdown-toc-3-suspense">3. Suspense</a></ol><li><a href="#遷移策略" id="markdown-toc-遷移策略">遷移策略</a><li><a href="#結論" id="markdown-toc-結論">結論</a><li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></ol><h2 id="引言">引言</h2><p>Vue 3的發布不僅帶來了新特性,還對框架的核心進行了重寫。本文將深入探討Vue 2和Vue 3在技術實現和開發實踐上的差異。<h2 id="核心架構變化">核心架構變化</h2><h3 id="1-響應式系統">1. 響應式系統</h3><ul><li>Vue 2: 基於Object.defineProperty實現<li>Vue 3: 採用Proxy實現</ul><p>影響:<ul><li>性能提升: Proxy可以攔截更多操作,如新增屬性<li>更好的數組變更檢測<li>大型應用中的內存占用減少</ul><h3 id="2-虛擬dom算法">2. 虛擬DOM算法</h3><ul><li>Vue 2: 基於snabbdom<li>Vue 3: 重寫的虛擬DOM算法</ul><p>優化:<ul><li>靜態樹提升<li>靜態屬性提升<li>基於Proxy的響應式追踪</ul><h2 id="開發體驗改進">開發體驗改進</h2><h3 id="1-composition-api-vs-options-api">1. Composition API vs Options API</h3><p>詳細比較:<table><thead><tr><th>特性<th>Options API<th>Composition API<tbody><tr><td>代碼組織<td>按選項類型<td>按邏輯功能<tr><td>可重用性<td>主要通過mixins<td>更靈活的組合式函數<tr><td>TypeScript支持<td>有限<td>優秀<tr><td>代碼壓縮<td>較差<td>更好</table><h3 id="2-生命週期鉤子">2. 生命週期鉤子</h3><p>Vue 3中的變化:<ul><li>beforeCreate和created被setup()替代<li>其他鉤子前綴改為on (如onMounted)</ul><h3 id="3-異步組件">3. 異步組件</h3><ul><li>Vue 2: 需要特定的導入語法<li>Vue 3: 內置defineAsyncComponent輔助函數</ul><h2 id="性能優化">性能優化</h2><h3 id="1-樹搖優化">1. 樹搖優化</h3><p>Vue 3實現了更好的樹搖,未使用的API不會被打包。<h3 id="2-編譯優化">2. 編譯優化</h3><p>Vue 3引入了基於塊的編譯策略,顯著提高了渲染性能。<h2 id="新特性深入解析">新特性深入解析</h2><h3 id="1-teleport">1. Teleport</h3><p>使用場景:<ul><li>模態框<li>懸浮提示<li>全局通知</ul><h3 id="2-fragments">2. Fragments</h3><p>多根節點組件的實際應用:<ul><li>列表渲染優化<li>更靈活的組件結構</ul><h3 id="3-suspense">3. Suspense</h3><p>與異步組件結合使用,優化加載體驗。<h2 id="遷移策略">遷移策略</h2><ol><li>漸進式遷移:<ul><li>使用@vue/compat<li>逐步替換全局API<li>更新組件語法</ul><li>重構建議:<ul><li>優先考慮核心組件<li>利用新特性重寫複雜邏輯<li>引入TypeScript增強代碼質量</ul></ol><h2 id="結論">結論</h2><p>Vue 3在保持Vue 2優點的同時,在性能、TypeScript支持和開發體驗上有了顯著提升。對於新項目,強烈建議使用Vue 3;對於現有項目,則需要權衡遷移成本和收益。<h2 id="參考資料">參考資料</h2><ul><li><a href="https://v3.vuejs.org/guide/design.html">Vue 3 設計理念</a><li><a href="https://github.com/vuejs/rfcs">Vue RFCs</a><li><a href="https://v3.vuejs.org/guide/migration/introduction.html">Vue 3 遷移指南</a></ul><footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2022-04-07-blog-vue2vsVue3-2/">Vue 2 vs Vue 3 深入技術比較與開發實踐</a></footer></article><article id="post-blog-blog-vue2vsVue3-1" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2022-03-14-blog-vue2vsVue3-1/" class="flip-title"> Vue 2 vs Vue 3 主要差異與升級建議 </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2022-03-14T00:00:00+08:00">14 Mar 2022</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 14 Sep 2024"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2024-09-14T22:31:29+08:00">2024-09-14</time> </span></div><a href="/blog/2022-03-14-blog-vue2vsVue3-1/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://vuejs.org/images/logo.png" alt="Vue 2 vs Vue 3 主要差異與升級建議" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#前言" id="markdown-toc-前言">前言</a><li><a href="#主要差異" id="markdown-toc-主要差異">主要差異</a><ol><li><a href="#1-api風格" id="markdown-toc-1-api風格">1. API風格</a><li><a href="#2-性能" id="markdown-toc-2-性能">2. 性能</a><li><a href="#3-typescript支持" id="markdown-toc-3-typescript支持">3. TypeScript支持</a><li><a href="#4-組件結構" id="markdown-toc-4-組件結構">4. 組件結構</a><li><a href="#5-新特性" id="markdown-toc-5-新特性">5. 新特性</a></ol><li><a href="#升級建議" id="markdown-toc-升級建議">升級建議</a><li><a href="#總結" id="markdown-toc-總結">總結</a><li><a href="#參考資料" id="markdown-toc-參考資料">參考資料</a></ol><h2 id="前言">前言</h2><p>Vue 3的發布為Vue開發者帶來了許多新特性和改進。本文將對比Vue 2和Vue 3的主要差異,並提供一些升級建議。<h2 id="主要差異">主要差異</h2><h3 id="1-api風格">1. API風格</h3><ul><li>Vue 2: 主要使用Options API<li>Vue 3: 引入Composition API,同時保留Options API</ul><p>Composition API提供了更靈活的代碼組織方式,特別適合大型項目。<h3 id="2-性能">2. 性能</h3><ul><li>Vue 2: 性能已經很好<li>Vue 3: 顯著提升,包括更快的虛擬DOM、更高效的組件初始化等</ul><h3 id="3-typescript支持">3. TypeScript支持</h3><ul><li>Vue 2: 有限的TypeScript支持<li>Vue 3: 全面改進的TypeScript支持,包括更準確的類型推斷</ul><h3 id="4-組件結構">4. 組件結構</h3><ul><li>Vue 2: 單根節點組件<li>Vue 3: 支持多根節點組件</ul><h3 id="5-新特性">5. 新特性</h3><p>Vue 3引入了一些新特性,如:<ul><li>Teleport組件<li>Fragments<li>Suspense<li>更好的響應式系統</ul><h2 id="升級建議">升級建議</h2><ol><li>評估項目需求: 對於小型項目,可能暫時不需要升級<li>學習Composition API: 即使不立即升級,也建議學習這一新特性<li>逐步遷移: 可以使用Vue 3的兼容版本,逐步更新代碼<li>利用新工具: 使用Vite等新工具提高開發效率</ol><h2 id="總結">總結</h2><p>Vue 3帶來了許多改進,但Vue 2仍然是一個穩定可靠的選擇。根據項目需求和團隊情況,選擇合適的版本進行開發。<h2 id="參考資料">參考資料</h2><ul><li><a href="https://v3.vuejs.org/">Vue 3 官方文檔</a><li><a href="https://v3.vuejs.org/guide/migration/introduction.html">Vue 2 到 Vue 3 遷移指南</a></ul><footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2022-03-14-blog-vue2vsVue3-1/">Vue 2 vs Vue 3 主要差異與升級建議</a></footer></article><article id="post-blog-blog-jekyll-M1" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2022-03-05-blog-jekyll-M1/" class="flip-title"> jekyll – 如何在 Apple M1 Macbook 上安裝 jekyll </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2022-03-05T00:00:00+08:00">05 Mar 2022</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 28 Jun 2022"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2022-06-28T01:14:55+08:00">2022-06-28</time> </span></div><a href="/blog/2022-03-05-blog-jekyll-M1/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://alexmanrique.com/blog/images/jekyll_m1.jpg" alt="jekyll – 如何在 Apple M1 Macbook 上安裝 jekyll" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#因為剛好最近買了一台-m1-imac剛好需要重新安裝-jekyll-寫blog因為無法順利安裝的坑真心覺得-m1-架構上處理環境真的不是那麼簡單如果你也剛好遇到此篇可以讓你解決m1-mac-安裝-jekyll的問題" id="markdown-toc-因為剛好最近買了一台-m1-imac剛好需要重新安裝-jekyll-寫blog因為無法順利安裝的坑真心覺得-m1-架構上處理環境真的不是那麼簡單如果你也剛好遇到此篇可以讓你解決m1-mac-安裝-jekyll的問題">因為剛好最近買了一台 M1 imac，剛好需要重新安裝 Jekyll 寫BLOG，因為無法順利安裝的坑，真心覺得 M1 架構上處理環境真的不是那麼簡單。如果你也剛好遇到，此篇可以讓你解決M1 Mac 安裝 Jekyll的問題…</a><ol><li><a href="#目前-imac-的作業環境為-monterey-ios-124" id="markdown-toc-目前-imac-的作業環境為-monterey-ios-124">目前 iMac 的作業環境為 Monterey ios 12.4：</a><ol><li><a href="#首先需要先安裝套件管理工具" id="markdown-toc-首先需要先安裝套件管理工具">首先需要先安裝套件管理工具：</a><li><a href="#再來安裝-rbenv" id="markdown-toc-再來安裝-rbenv">再來安裝 Rbenv</a><li><a href="#安裝基於-arm-的-ruby-300" id="markdown-toc-安裝基於-arm-的-ruby-300">安裝基於 ARM 的 Ruby 3.0.0</a><li><a href="#將-ruby-和-gems-路徑添加到您的-shell-配置中" id="markdown-toc-將-ruby-和-gems-路徑添加到您的-shell-配置中">將 ruby​​ 和 gems 路徑添加到您的 shell 配置中</a></ol></ol><li><a href="#安裝-jekyll" id="markdown-toc-安裝-jekyll">安裝 Jekyll</a><ol><li><a href="#如果您使用的是-zsh" id="markdown-toc-如果您使用的是-zsh">如果您使用的是 zsh</a><li><a href="#如果您使用的是-bash" id="markdown-toc-如果您使用的是-bash">如果您使用的是 bash</a><li><a href="#更新套件非必要" id="markdown-toc-更新套件非必要">更新套件(非必要)</a><li><a href="#檢查安裝" id="markdown-toc-檢查安裝">檢查安裝</a><li><a href="#如果您還沒有進行本地安裝" id="markdown-toc-如果您還沒有進行本地安裝">如果您還沒有進行本地安裝</a><li><a href="#如果您沒有blog請使用" id="markdown-toc-如果您沒有blog請使用">如果您沒有blog，請使用</a></ol><li><a href="#終於可以運行啦" id="markdown-toc-終於可以運行啦">終於可以運行啦！！</a><li><a href="#reference" id="markdown-toc-reference">Reference</a></ol><h2 id="因為剛好最近買了一台-m1-imac剛好需要重新安裝-jekyll-寫blog因為無法順利安裝的坑真心覺得-m1-架構上處理環境真的不是那麼簡單如果你也剛好遇到此篇可以讓你解決m1-mac-安裝-jekyll的問題">因為剛好最近買了一台 M1 imac，剛好需要重新安裝 Jekyll 寫BLOG，因為無法順利安裝的坑，真心覺得 M1 架構上處理環境真的不是那麼簡單。如果你也剛好遇到，此篇可以讓你解決M1 Mac 安裝 Jekyll的問題…</h2><h3 id="目前-imac-的作業環境為-monterey-ios-124">目前 iMac 的作業環境為 Monterey ios 12.4：</h3><h4 id="首先需要先安裝套件管理工具">首先需要先安裝套件管理工具：</h4><p>我使用 Homebrew 在我的 Mac 上安裝第三方軟件包。可以通過簡單的方式安裝：<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
</code></pre></div></div><h4 id="再來安裝-rbenv">再來安裝 Rbenv</h4><p>我們需要安裝一個兼容 ARM 處理器的 Ruby 版本。<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install rbenv ruby-build
</code></pre></div></div><h4 id="安裝基於-arm-的-ruby-300">安裝基於 ARM 的 Ruby 3.0.0</h4><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rbenv install 3.0.0
rbenv global 3.0.0
ruby -v
rbenv rehash
</code></pre></div></div><h4 id="將-ruby-和-gems-路徑添加到您的-shell-配置中">將 ruby​​ 和 gems 路徑添加到您的 shell 配置中</h4><p>現在，將 rbenv 添加到 bash 以便每次打開終端時加載它<p>如果您使用的是 zsh<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo 'eval "$(rbenv init - zsh)"' &gt;&gt; ~/.zshrc
</code></pre></div></div><p>如果您使用的是 bash<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo 'eval "$(rbenv init - bash)"' &gt;&gt; ~/.bash_profile
</code></pre></div></div><p>如果您不確定您使用的是哪個 shell，您可以使用以下命令進行檢查：<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo $SHELL
</code></pre></div></div><h2 id="安裝-jekyll">安裝 Jekyll</h2><p>最後，我們可以繼續安裝 Jekyll 和 Bundler。我們將進行本地安裝（不需要sudo特權）。<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install --user-install bundler jekyll
</code></pre></div></div><h4 id="如果您使用的是-zsh">如果您使用的是 zsh</h4><p>替換3.0.0為您的 ruby​​ 版本。您可以通過 . 檢查您的 ruby​​ 版本ruby -v。如果您的 ruby​​ 版本是 2.7，則使用2.7.0.<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo 'export PATH="/usr/local/opt/ruby/bin:/usr/local/lib/ruby/gems/3.0.0/bin:$PATH"' &gt;&gt; ~/.zshrc
</code></pre></div></div><h4 id="如果您使用的是-bash">如果您使用的是 bash</h4><p>替換3.0.0為您的 ruby​​ 版本。您可以通過 . 檢查您的 ruby​​ 版本ruby -v。如果您的 ruby​​ 版本是 2.7，則使用2.7.0.<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo 'export PATH="/usr/local/opt/ruby/bin:/usr/local/lib/ruby/gems/3.0.0/bin:$PATH"' &gt;&gt; ~/.bash_profile
</code></pre></div></div><h4 id="更新套件非必要">更新套件(非必要)</h4><p>對於 M1 Mac，我們可能需要做一些額外的步驟——更新 bundler、添加 webrick 並重建所有內容。<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle update --bundler
bundle add webrick
bundle install --redownload
</code></pre></div></div><h4 id="檢查安裝">檢查安裝</h4><p>現在，我們可以運行我們的示例blog。導航到您的blog，然後運行以下命令：<h4 id="如果您還沒有進行本地安裝">如果您還沒有進行本地安裝</h4><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install bundler jekyll 
</code></pre></div></div><h4 id="如果您沒有blog請使用">如果您沒有blog，請使用</h4><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll new my-awesome-site
cd my-awesome-site
</code></pre></div></div><h2 id="終於可以運行啦">終於可以運行啦！！</h2><p>接下來應該就大功告成了，開始寫blog吧～<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle exec jekyll serve
</code></pre></div></div><h2 id="reference">Reference</h2><p>https://talk.jekyllrb.com/t/jekyll-crashing-on-m1-mac/6367/16<footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2022-03-05-blog-jekyll-M1/">jekyll – 如何在 Apple M1 Macbook 上安裝 jekyll</a></footer></article><article id="post-blog-blog-git-remote" class="page post mb6" role="article"><header><h1 class="post-title flip-project-title"> <a href="/blog/2021-11-27-blog-git-remote/" class="flip-title"> Git – git push 同時推送到多個遠端儲存庫 </a></h1><div class="post-date"> <span class="ellipsis mr1"> <time datetime="2021-11-27T00:00:00+08:00">27 Nov 2021</time> in <span>Blog</span> </span> <span class="ellipsis" data-tippy-content="Last modified at: 28 Jun 2022"> <span class="sr-only">Last modified at:</span> <span class="icon-history"></span> <time datetime="2022-06-28T01:14:55+08:00">2022-06-28</time> </span></div><a href="/blog/2021-11-27-blog-git-remote/" class="no-hover no-print-link flip-project" tabindex="-1"><div class="img-wrapper lead aspect-ratio sixteen-nine flip-project-img"> <img src="https://2.bp.blogspot.com/-EYBE6CHprjg/W4O3ZR-1uhI/AAAAAAAAz6E/iQ-1-NXU_hIbECnTSEnIXT19AX9HHocbACLcBGAs/s1600/Multiple%2BRepo.PNG" alt="Git – git push 同時推送到多個遠端儲存庫" width="864" height="486" loading="lazy" /></div></a></header><ol id="markdown-toc"><li><a href="#同一個repositories如何設定兩組不同的遠端儲存庫" id="markdown-toc-同一個repositories如何設定兩組不同的遠端儲存庫">同一個Repositories如何設定兩組不同的遠端儲存庫</a><ol><li><a href="#如果你在工作目錄想同時保有兩個不同的遠端儲存庫而且兩個遠端儲存庫你都有權限都有可能會做-push-或-pullfetch-動作" id="markdown-toc-如果你在工作目錄想同時保有兩個不同的遠端儲存庫而且兩個遠端儲存庫你都有權限都有可能會做-push-或-pullfetch-動作">如果你在工作目錄想同時保有兩個不同的遠端儲存庫，而且兩個遠端儲存庫你都有權限，都有可能會做 Push 或 Pull/Fetch 動作。</a></ol><li><a href="#reference" id="markdown-toc-reference">Reference</a></ol><h2 id="同一個repositories如何設定兩組不同的遠端儲存庫">同一個Repositories如何設定兩組不同的遠端儲存庫</h2><h3 id="如果你在工作目錄想同時保有兩個不同的遠端儲存庫而且兩個遠端儲存庫你都有權限都有可能會做-push-或-pullfetch-動作">如果你在工作目錄想同時保有兩個不同的遠端儲存庫，而且兩個遠端儲存庫你都有權限，都有可能會做 Push 或 Pull/Fetch 動作。</h3><p>那麼我們本地開發目錄的設定步驟如下：<p>取得原始碼 (取出 develop 分支)<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/XXX.git -b develop
cd demo1
</code></pre></div></div><p>設定第二組遠端儲存庫位址<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote add demo2 https://github.com/XXX-2.git
</code></pre></div></div><p>如果第二組遠端儲存庫位址是 origin 的 上游專案(upstream)，我們有時候會直接設定 Remote 名稱為 upstream，如此一來語意就會非常清楚。<p>檢查 Git Remote 位址<p>此時你應該會看見兩組 Remote 位址，個別都有 fetch 與 push 位址：<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># git remote -v
origin  https://github.com/XXX.git (fetch)
origin  https://github.com/XXX.git (push)
demo2  https://github.com/XXX-2.git (fetch)
demo2  https://github.com/XXX-2.git (push)
</code></pre></div></div><p>當你想取回 origin 的新版本時，使用 git pull 或 git fetch 就可以取得。<p>當你想取回 demo2 的新版本時，使用 git pull demo2 或 git fetch demo2 就可以取回新版。<p>當你想取回所有 Remote 的新版本時，就不能用 git pull 命令了，因為 Git 不會知道你想合併哪一條遠端分支。你只能用 git fetch –all 取回所有新的版本(Commits)，但你就要自行決定如何合併遠端的版本變更了！<h2 id="reference">Reference</h2><p>https://blog.miniasp.com/<footer><p class="read-more"> Continue reading <a class="heading flip-title" href="/blog/2021-11-27-blog-git-remote/">Git – git push 同時推送到多個遠端儲存庫</a></footer></article><h2 class="sr-only">Pagination</h2><nav class="pagination heading clearfix" role="navigation"><ul><li class="pagination-item older" > <a class=" " href="/3/" rel="next" >Older</a><li class="pagination-item newer" > <a class=" " href="/" rel="prev" >Newer</a></ul></nav><footer class="content" role="contentinfo"><hr/><p><small class="copyright">© 2021. All rights reserved. </small><hr class="sr-only"/></footer></main></hy-push-state> <!--[if gt IE 10]><!----> <script nomodule>(()=>{var t,n=document.createElement("script");!("noModule"in n)&&"onbeforeload"in n&&(t=!1,document.addEventListener("beforeload",function(e){if(e.target===n)t=!0;else if(!e.target.hasAttribute("nomodule")||!t)return;e.preventDefault()},!0),n.type="module",n.src=".",document.head.appendChild(n),n.remove())})(); </script> <script src="/assets/js/hydejack-9.2.1.js" type="module"></script> <script src="/assets/js/LEGACY-hydejack-9.2.1.js" nomodule defer></script> <script type="module"> if ('serviceWorker' in navigator) { /**/ navigator.serviceWorker.getRegistration() .then(r => r.unregister()) .catch(() => {}); /**/ } </script> <!--<![endif]--> <!-- Code for integrating CloudFlare's email protection with Hydejack's single page app loading. --> <script> document.getElementById('_pushState').addEventListener('hy-push-state-after', function (e) { function e(e){ (console.error?console.error:console.log).call(console,e) } function t(e){ return l.innerHTML='<a href="'+e.replace(/"/g,"&quot;")+'"></a>',l.childNodes[0].getAttribute("href") } function r(e,t){ var r=e.substr(t,2);return parseInt(r,16) } function n(e,n){ for(var o="",c=r(e,n),a=n+2;a<e.length;a+=2){ var l=r(e,a)^c; o+=String.fromCharCode(l) } return t(o) } var o="/cdn-cgi/l/email-protection#", c=".__cf_email__", a="data-cfemail", l=document.createElement("div"); !function(){ for(var t=document.getElementsByTagName("a"),r=0;r<t.length;r++) try{ var c=t[r],a=c.href.indexOf(o); a>-1&&(c.href="mailto:"+n(c.href,a+o.length)) }catch(t){ e(t) } }(), function(){ for(var t=document.querySelectorAll(c),r=0;r<t.length;r++) try{ var o=t[r],l=n(o.getAttribute(a),0),i=document.createTextNode(l); o.parentNode.replaceChild(i,o) }catch(t){ e(t) } }() }); </script><div hidden><h2 class="sr-only">Templates (for web app):</h2><template id="_animation-template"><div class="animation-main fixed-top"><nav id="breadcrumbs" class="screen-only"><ul></ul></nav><div class="content"><div class="page"></div></div></div></template> <template id="_loading-template"><div class="loading nav-btn fr"> <span class="sr-only">Loading…</span> <span class="icon-cog"></span></div></template> <template id="_error-template"><div class="page"><h1 class="page-title">Error</h1><p class="lead"> Sorry, an error occurred while loading <a class="this-link" href=""></a>.</div></template> <template id="_permalink-template"> <a href="#" class="permalink"> <span class="sr-only">Permalink</span> <span class="content-hash"></span> </a> </template> <template id="_dark-mode-template"> <button id="_dark-mode" class="nav-btn no-hover" > <span class="sr-only">Dark Mode</span> <span class="icon-brightness-contrast"></span> </button> </template> <template id="_search-template"> <button id="_search" class="nav-btn no-hover"> <label class="sr-only" for="_search-input">Search</label> <span class="icon-search"></span> </button><div id="_search-box"><div class="nav-btn"> <span class="icon-search"></span></div><input id="_search-input" type="search" class="form-control form-control-lg nav-btn" placeholder="Type something…" /> <button type="reset" class="nav-btn no-hover"> <span class="sr-only">Close</span> <span class="icon-cross"></span> </button></div><div id="_hits"></div></template></div></html>
